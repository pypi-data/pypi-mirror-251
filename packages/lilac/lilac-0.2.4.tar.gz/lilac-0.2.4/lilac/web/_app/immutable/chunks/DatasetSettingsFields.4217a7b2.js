import{S as Ne,i as Be,s as He,D as pe,Z as x,_ as $,m,h as c,n as b,$ as De,b as D,a0 as h,K as Xe,a1 as Y,M as Se,Q as Ae,q as le,r as ie,u as Oe,k as E,y as se,a as ce,l as M,z as me,c as de,F as j,A as ae,G as Qe,a7 as Ye,a8 as tt,g as p,d as w,B as oe,L as nt,O as Ge,N as It,x as ct,v as Ve,f as Te,ah as _i,w as st,U as gt,V as bt,e as xe,C as gi,H as bi,I as vi,J as pi,ab as Je,o as ql,T as Yl,a9 as wi,a2 as Et,R as Ul,a3 as Kl,ai as ki,a4 as Bt}from"./index.ad1b71d6.js";import{e as Ze,a as Mt,X as dt,bn as yi,bf as Ii,a7 as Vt,bo as Zl,bp as Ql,aw as Wl,a0 as ut,al as it,bq as at,bl as Ei,ac as et,br as Gl,ay as Mi,a6 as ft,d as ht,m as Vi,af as Ti,ai as Xl,bs as Oi,ae as Jl,bt as Ci,au as Pi,b5 as Di,Y as Si,aA as Rt,bu as Ai,_ as kt,bv as Ri,aa as zi,ab as Li,ah as Ni,b4 as Bi,bw as Hi,B as Ht,ar as Fi,ad as ji,aF as xl,aO as $l,bx as ei,S as qi,b as ti,T as Yi,by as Ui,aS as Ft}from"./Commands.e655848c.js";import{g as li,s as jt}from"./notificationsStore.c57034ed.js";import{M as zt}from"./ToastNotification.765f706b.js";import{T as Ki}from"./TrashCan.29665d4a.js";import{g as Zi}from"./settingsStore.09fdca97.js";import{C as Qi,a as Wi}from"./ChevronUp.686fc35a.js";import{S as Gi}from"./Search.12768581.js";import{_ as Xi}from"./preload-helper.a4192956.js";import{d as Ji}from"./paths.ea576c73.js";import{c as xi,g as $i}from"./spanHighlight.be1676f2.js";import{I as en}from"./ItemMetadata.9dc2b941.js";import{C as tn}from"./ComboBox.7a16274f.js";function qt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function ln(i){let e,t,l=i[1]&&qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function nn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class rn extends Ne{constructor(e){super(),Be(this,e,nn,ln,He,{size:0,title:1})}}function Yt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function sn(i){let e,t,l=i[1]&&Yt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Yt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function an(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class on extends Ne{constructor(e){super(),Be(this,e,an,sn,He,{size:0,title:1})}}function Ut(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function un(i){let e,t,l=i[1]&&Ut(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Ut(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function fn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class cn extends Ne{constructor(e){super(),Be(this,e,fn,un,He,{size:0,title:1})}}function Kt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function dn(i){let e,t,l,n=i[1]&&Kt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=$(s,"path",{d:!0}),m(t).forEach(c),l=$(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),b(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=Kt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Y,o:Y,d(o){o&&c(e),n&&n.d()}}}function hn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class mn extends Ne{constructor(e){super(),Be(this,e,hn,dn,He,{size:0,title:1})}}function Zt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function _n(i){let e,t,l=i[1]&&Zt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Zt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function gn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class bn extends Ne{constructor(e){super(),Be(this,e,gn,_n,He,{size:0,title:1})}}function Qt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function vn(i){let e,t,l=i[1]&&Qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function pn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class wn extends Ne{constructor(e){super(),Be(this,e,pn,vn,He,{size:0,title:1})}}function Wt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function kn(i){let e,t,l,n,a,r,o=i[1]&&Wt(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<s.length;f+=1)u=pe(u,s[f]);return{c(){e=x("svg"),o&&o.c(),t=x("circle"),l=x("circle"),n=x("circle"),a=x("path"),r=x("path"),this.h()},l(f){e=$(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=m(e);o&&o.l(d),t=$(d,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=$(d,"circle",{cx:!0,cy:!0,r:!0}),m(l).forEach(c),n=$(d,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=$(d,"path",{d:!0}),m(a).forEach(c),r=$(d,"path",{d:!0}),m(r).forEach(c),d.forEach(c),this.h()},h(){b(t,"cx","7"),b(t,"cy","7"),b(t,"r","1"),b(l,"cx","7"),b(l,"cy","15"),b(l,"r","1"),b(n,"cx","7"),b(n,"cy","23"),b(n,"r","1"),b(a,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),b(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),De(e,u)},m(f,d){D(f,e,d),o&&o.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=Wt(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),De(e,u=Xe(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:Y,o:Y,d(f){f&&c(e),o&&o.d()}}}function yn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class In extends Ne{constructor(e){super(),Be(this,e,yn,kn,He,{size:0,title:1})}}function Gt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function En(i){let e,t,l,n,a,r,o,s=i[1]&&Gt(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=pe(f,u[d]);return{c(){e=x("svg"),s&&s.c(),t=x("circle"),l=x("path"),n=x("circle"),a=x("circle"),r=x("circle"),o=x("path"),this.h()},l(d){e=$(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var _=m(e);s&&s.l(_),t=$(_,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=$(_,"path",{d:!0}),m(l).forEach(c),n=$(_,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=$(_,"circle",{cx:!0,cy:!0,r:!0}),m(a).forEach(c),r=$(_,"circle",{cx:!0,cy:!0,r:!0}),m(r).forEach(c),o=$(_,"path",{d:!0}),m(o).forEach(c),_.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),b(n,"cx","8"),b(n,"cy","8"),b(n,"r","1"),b(a,"cx","8"),b(a,"cy","16"),b(a,"r","1"),b(r,"cx","8"),b(r,"cy","24"),b(r,"r","1"),b(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),De(e,f)},m(d,_){D(d,e,_),s&&s.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r),h(e,o)},p(d,[_]){d[1]?s?s.p(d,_):(s=Gt(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),De(e,f=Xe(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},_&1&&{width:d[0]},_&1&&{height:d[0]},_&4&&d[2],_&8&&d[3]]))},i:Y,o:Y,d(d){d&&c(e),s&&s.d()}}}function Mn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Vn extends Ne{constructor(e){super(),Be(this,e,Mn,En,He,{size:0,title:1})}}function Xt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Tn(i){let e,t,l,n,a=i[1]&&Xt(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let s=0;s<r.length;s+=1)o=pe(o,r[s]);return{c(){e=x("svg"),a&&a.c(),t=x("circle"),l=x("path"),n=x("path"),this.h()},l(s){e=$(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=m(e);a&&a.l(u),t=$(u,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=$(u,"path",{d:!0}),m(l).forEach(c),n=$(u,"path",{d:!0}),m(n).forEach(c),u.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),b(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),De(e,o)},m(s,u){D(s,e,u),a&&a.m(e,null),h(e,t),h(e,l),h(e,n)},p(s,[u]){s[1]?a?a.p(s,u):(a=Xt(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),De(e,o=Xe(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:s[0]},u&1&&{height:s[0]},u&4&&s[2],u&8&&s[3]]))},i:Y,o:Y,d(s){s&&c(e),a&&a.d()}}}function On(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Cn extends Ne{constructor(e){super(),Be(this,e,On,Tn,He,{size:0,title:1})}}function Jt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Pn(i){let e,t,l=i[1]&&Jt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Jt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function Dn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Sn extends Ne{constructor(e){super(),Be(this,e,Dn,Pn,He,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function An(i){let e,t,l,n=i[1]&&xt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=$(s,"path",{d:!0}),m(t).forEach(c),l=$(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),b(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=xt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Y,o:Y,d(o){o&&c(e),n&&n.d()}}}function Rn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class zn extends Ne{constructor(e){super(),Be(this,e,Rn,An,He,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Ln(i){let e,t,l=i[1]&&$t(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=$t(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function Nn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class Bn extends Ne{constructor(e){super(),Be(this,e,Nn,Ln,He,{size:0,title:1})}}function el(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Hn(i){let e,t,l=i[1]&&el(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=el(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function Fn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class jn extends Ne{constructor(e){super(),Be(this,e,Fn,Hn,He,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function qn(i){let e,t,l,n=i[1]&&tl(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=pe(r,a[o]);return{c(){e=x("svg"),n&&n.c(),t=x("path"),l=x("path"),this.h()},l(o){e=$(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=$(s,"path",{d:!0}),m(t).forEach(c),l=$(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),b(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=tl(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Y,o:Y,d(o){o&&c(e),n&&n.d()}}}function Yn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class ii extends Ne{constructor(e){super(),Be(this,e,Yn,qn,He,{size:0,title:1})}}function ll(i){let e,t;return{c(){e=x("title"),t=le(i[1])},l(l){e=$(l,"title",{});var n=m(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Oe(t,l[1])},d(l){l&&c(e)}}}function Un(i){let e,t,l=i[1]&&ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=pe(a,n[r]);return{c(){e=x("svg"),l&&l.c(),t=x("path"),this.h()},l(r){e=$(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=$(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ll(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Y,o:Y,d(r){r&&c(e),l&&l.d()}}}function Kn(i,e,t){let l,n;const a=["size","title"];let r=Se(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=pe(pe({},e),Ae(u))),t(3,r=Se(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ae(e),[o,s,n,r,l]}class ni extends Ne{constructor(e){super(),Be(this,e,Kn,Un,He,{size:0,title:1})}}function Zn(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=le("Delete "),l=E("span"),a=le(n),r=le(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=ie(u,"Delete "),l=M(u,"SPAN",{class:!0});var f=m(l);a=ie(f,n),f.forEach(c),r=ie(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Oe(a,n)},d(s){s&&c(e)}}}function Qn(i){let e,t,l,n,a,r,o,s,u;return l=new Ki({}),r=new zt({props:{size:"xs",open:i[1]&&!i[4],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Zn]},$$scope:{ctx:i}}}),r.$on("submit",i[13]),r.$on("click:button--secondary",i[14]),r.$on("close",i[15]),{c(){e=E("div"),t=E("button"),se(l.$$.fragment),a=ce(),se(r.$$.fragment),this.h()},l(f){e=M(f,"DIV",{});var d=m(e);t=M(d,"BUTTON",{class:!0});var _=m(t);me(l.$$.fragment,_),_.forEach(c),d.forEach(c),a=de(f),me(r.$$.fragment,f),this.h()},h(){t.disabled=i[4],b(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),j(t,"opacity-30",i[4])},m(f,d){D(f,e,d),h(e,t),ae(l,t,null),D(f,a,d),ae(r,f,d),o=!0,s||(u=[Qe(t,"click",i[12]),Ye(n=Ze.call(null,e,{text:i[3]?i[2]!=null&&i[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."}))],s=!0)},p(f,[d]){(!o||d&16)&&(t.disabled=f[4]),(!o||d&16)&&j(t,"opacity-30",f[4]),n&&tt(n.update)&&d&12&&n.update.call(null,{text:f[3]?f[2]!=null&&f[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."});const _={};d&18&&(_.open=f[1]&&!f[4]),d&524289&&(_.$$scope={dirty:d,ctx:f}),r.$set(_)},i(f){o||(p(l.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){w(l.$$.fragment,f),w(r.$$.fragment,f),o=!1},d(f){f&&c(e),oe(l),f&&c(a),oe(r,f),s=!1,nt(u)}}}function Wn(i,e,t){let l,n,a,r,o,{rowIds:s=void 0}=e,{searches:u=void 0}=e,{filters:f=void 0}=e,{numRows:d=void 0}=e,{modalOpen:_=!1}=e;const g=Mt();Ge(i,g,P=>t(11,o=P));const T=It(),B=dt();Ge(i,B,P=>t(16,a=P));const z=yi();Ge(i,z,P=>t(17,r=P));function O(){r.mutate([a.namespace,a.datasetName,{row_ids:s,searches:u,filters:f}],{onSuccess:()=>{T("deleted"),t(1,_=!1),close()}})}const k=()=>{n||t(1,_=!0)},V=()=>O(),S=()=>{t(1,_=!1)},I=()=>t(1,_=!1);return i.$$set=P=>{"rowIds"in P&&t(2,s=P.rowIds),"searches"in P&&t(9,u=P.searches),"filters"in P&&t(10,f=P.filters),"numRows"in P&&t(0,d=P.numRows),"modalOpen"in P&&t(1,_=P.modalOpen)},i.$$.update=()=>{var P;i.$$.dirty&2048&&t(3,l=(P=o.data)==null?void 0:P.access.dataset.delete_rows),i.$$.dirty&5&&d==null&&s!=null&&t(0,d=s.length),i.$$.dirty&1548&&t(4,n=!l||s==null&&u==null&&f==null)},[d,_,s,l,n,g,B,z,O,u,f,o,k,V,S,I]}class Gn extends Ne{constructor(e){super(),Be(this,e,Wn,Qn,He,{rowIds:2,searches:9,filters:10,numRows:0,modalOpen:1})}}function Xn(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function il(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const Jn=i=>({item:i&33554434,inputText:i&1}),nl=i=>({item:i[26],inputText:i[0]});function rl(i){let e,t;return e=new Ii({}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function sl(i){let e,t,l,n,a,r,o,s;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[er,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new tn({props:f}),i[20](t),st.push(()=>gt(t,"value",u)),t.$on("select",i[16]),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);me(t.$$.fragment,_),_.forEach(c),this.h()},h(){b(e,"class","z-50 w-60"),j(e,"absolute",i[12]),j(e,"hidden",!i[14])},m(d,_){D(d,e,_),ae(t,e,null),r=!0,o||(s=[Ye(n=xi.call(null,e,i[22])),Ye(a=Xn.call(null,e,{disable:!i[12]}))],o=!0)},p(d,_){const g={};_&16384&&(g.open=d[14]),_&2&&(g.items=d[1]),_&64&&(g.shouldFilterItem=d[6]?d[6]:void 0),_&32&&(g.placeholder=d[5]),_&42074115&&(g.$$scope={dirty:_,ctx:d}),!l&&_&1&&(l=!0,g.value=d[0],bt(()=>l=!1)),t.$set(g),n&&tt(n.update)&&_&24576&&n.update.call(null,d[22]),a&&tt(a.update)&&_&4096&&a.update.call(null,{disable:!d[12]}),(!r||_&4096)&&j(e,"absolute",d[12]),(!r||_&16384)&&j(e,"hidden",!d[14])},i(d){r||(p(t.$$.fragment,d),r=!0)},o(d){w(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),oe(t),o=!1,nt(s)}}}function xn(i){let e,t=i[26].text+"",l;return{c(){e=E("div"),l=le(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=ie(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a&33554434&&t!==(t=n[26].text+"")&&Oe(l,t)},i:Y,o:Y,d(n){n&&c(e)}}}function $n(i){let e;const t=i[18].item,l=gi(t,i,i[23],nl);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&41943043)&&bi(l,t,n,n[23],e?pi(t,n[23],a,Jn):vi(n[23]),nl)},i(n){e||(p(l,n),e=!0)},o(n){w(l,n),e=!1},d(n){l&&l.d(n)}}}function er(i){il(i);let e,t,l,n;const a=[$n,xn],r=[];function o(s,u){return s[17].item?0:s[26]?1:-1}return~(e=o(i))&&(t=r[e]=a[e](i)),{c(){t&&t.c(),l=xe()},l(s){t&&t.l(s),l=xe()},m(s,u){~e&&r[e].m(s,u),D(s,l,u),n=!0},p(s,u){il(s);let f=e;e=o(s),e===f?~e&&r[e].p(s,u):(t&&(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te()),~e?(t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l)):t=null)},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){~e&&r[e].d(s),s&&c(l)}}}function tr(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T=i[7]&&rl();var B=i[2];function z(k){return{}}B&&(a=ct(B,z()));let O=i[14]&&sl(i);return{c(){e=E("div"),t=E("div"),l=E("button"),T&&T.c(),n=ce(),a&&se(a.$$.fragment),r=ce(),o=le(i[3]),f=ce(),O&&O.c(),this.h()},l(k){e=M(k,"DIV",{class:!0});var V=m(e);t=M(V,"DIV",{});var S=m(t);l=M(S,"BUTTON",{class:!0});var I=m(l);T&&T.l(I),n=de(I),a&&me(a.$$.fragment,I),r=de(I),o=ie(I,i[3]),I.forEach(c),S.forEach(c),f=de(V),O&&O.l(V),V.forEach(c),this.h()},h(){l.disabled=i[9],b(l,"class","flex items-center gap-x-2 bg-white"),j(l,"opacity-30",i[9]),j(l,"text-red-600",i[11]),j(l,"border",i[4]),j(l,"border-gray-300",i[4]),j(l,"hidden",i[14]),b(e,"class","relative h-8")},m(k,V){D(k,e,V),h(e,t),h(t,l),T&&T.m(l,null),h(l,n),a&&ae(a,l,null),h(l,r),h(l,o),h(e,f),O&&O.m(e,null),d=!0,_||(g=[Qe(l,"click",i[15]),Ye(s=Ze.call(null,l,{text:i[8]})),Ye(u=Ze.call(null,t,{text:i[9]?i[10]:""}))],_=!0)},p(k,[V]){if(k[7]?T?V&128&&p(T,1):(T=rl(),T.c(),p(T,1),T.m(l,n)):T&&(Ve(),w(T,1,1,()=>{T=null}),Te()),V&4&&B!==(B=k[2])){if(a){Ve();const S=a;w(S.$$.fragment,1,0,()=>{oe(S,1)}),Te()}B?(a=ct(B,z()),se(a.$$.fragment),p(a.$$.fragment,1),ae(a,l,r)):a=null}(!d||V&8)&&Oe(o,k[3]),(!d||V&512)&&(l.disabled=k[9]),s&&tt(s.update)&&V&256&&s.update.call(null,{text:k[8]}),(!d||V&512)&&j(l,"opacity-30",k[9]),(!d||V&2048)&&j(l,"text-red-600",k[11]),(!d||V&16)&&j(l,"border",k[4]),(!d||V&16)&&j(l,"border-gray-300",k[4]),(!d||V&16384)&&j(l,"hidden",k[14]),u&&tt(u.update)&&V&1536&&u.update.call(null,{text:k[9]?k[10]:""}),k[14]?O?(O.p(k,V),V&16384&&p(O,1)):(O=sl(k),O.c(),p(O,1),O.m(e,null)):O&&(Ve(),w(O,1,1,()=>{O=null}),Te())},i(k){d||(p(T),a&&p(a.$$.fragment,k),p(O),d=!0)},o(k){w(T),a&&w(a.$$.fragment,k),w(O),d=!1},d(k){k&&c(e),T&&T.d(),a&&oe(a),O&&O.d(),_=!1,nt(g)}}}function lr(i,e,t){let{$$slots:l={},$$scope:n}=e;const a=_i(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:s=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:_=void 0}=e,{isLoading:g=!1}=e,{helperText:T=""}=e,{disabled:B=!1}=e,{disabledMessage:z=""}=e,{redText:O=!1}=e,{hoist:k=!1}=e;const V=It();let S,I=!1;function P(){t(14,I=!0),requestAnimationFrame(()=>{S.$set({open:!0})})}function X(C){V("select",C.detail.selectedItem),S.clear(),t(14,I=!1)}const he=(C,R)=>R.id===C.id;function be(C){st[C?"unshift":"push"](()=>{S=C,t(13,S)})}function G(C){f=C,t(0,f)}const te=()=>{S.clear(),t(14,I=!1)};return i.$$set=C=>{"items"in C&&t(1,r=C.items),"buttonIcon"in C&&t(2,o=C.buttonIcon),"buttonText"in C&&t(3,s=C.buttonText),"buttonOutline"in C&&t(4,u=C.buttonOutline),"comboBoxText"in C&&t(0,f=C.comboBoxText),"comboBoxPlaceholder"in C&&t(5,d=C.comboBoxPlaceholder),"shouldFilterItem"in C&&t(6,_=C.shouldFilterItem),"isLoading"in C&&t(7,g=C.isLoading),"helperText"in C&&t(8,T=C.helperText),"disabled"in C&&t(9,B=C.disabled),"disabledMessage"in C&&t(10,z=C.disabledMessage),"redText"in C&&t(11,O=C.redText),"hoist"in C&&t(12,k=C.hoist),"$$scope"in C&&t(23,n=C.$$scope)},[f,r,o,s,u,d,_,g,T,B,z,O,k,S,I,P,X,a,l,he,be,G,te,n]}class Lt extends Ne{constructor(e){super(),Be(this,e,lr,tr,He,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function ir(i){let e,t=i[38].text+"",l;return{c(){e=E("div"),l=le(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=ie(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a[1]&128&&t!==(t=n[38].text+"")&&Oe(l,t)},i:Y,o:Y,d(n){n&&c(e)}}}function nr(i){let e,t,l,n,a,r=i[37]+"",o,s;return t=new ii({}),{c(){e=E("div"),se(t.$$.fragment),l=ce(),n=E("div"),a=le("New label: "),o=le(r),this.h()},l(u){e=M(u,"DIV",{class:!0});var f=m(e);me(t.$$.fragment,f),l=de(f),n=M(f,"DIV",{class:!0});var d=m(n);a=ie(d,"New label: "),o=ie(d,r),d.forEach(c),f.forEach(c),this.h()},h(){b(n,"class","ml-2"),b(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){D(u,e,f),ae(t,e,null),h(e,l),h(e,n),h(n,a),h(n,o),s=!0},p(u,f){(!s||f[1]&64)&&r!==(r=u[37]+"")&&Oe(o,r)},i(u){s||(p(t.$$.fragment,u),s=!0)},o(u){w(t.$$.fragment,u),s=!1},d(u){u&&c(e),oe(t)}}}function rr(i){let e;return{c(){e=E("div")},l(t){e=M(t,"DIV",{}),m(e).forEach(c)},m(t,l){D(t,e,l)},p:Y,i:Y,o:Y,d(t){t&&c(e)}}}function sr(i){let e,t,l,n;const a=[rr,nr,ir],r=[];function o(s,u){return s[38]==null?0:s[38].id==="new-label"?1:2}return t=o(i),l=r[t]=a[t](i),{c(){e=E("div"),l.c(),this.h()},l(s){e=M(s,"DIV",{slot:!0});var u=m(e);l.l(u),u.forEach(c),this.h()},h(){b(e,"slot","item")},m(s,u){D(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),p(l,1),l.m(e,null))},i(s){n||(p(l),n=!0)},o(s){w(l),n=!1},d(s){s&&c(e),r[t].d()}}}function ar(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=le("Add label "),t=E("span"),l=le(i[8]),n=le(" to "),r=le(a),o=le(`
      rows?`),this.h()},l(u){e=ie(u,"Add label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," to "),r=ie(u,a),o=ie(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Oe(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Oe(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function or(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=le("Remove label "),t=E("span"),l=le(i[8]),n=le(" from "),r=le(a),o=le(`
      rows?`),this.h()},l(u){e=ie(u,"Remove label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," from "),r=ie(u,a),o=ie(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Oe(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Oe(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function ur(i){let e;function t(a,r){return a[4]?or:ar}let l=t(i),n=l(i);return{c(){e=E("p"),n.c()},l(a){e=M(a,"P",{});var r=m(e);n.l(r),r.forEach(c)},m(a,r){D(a,e,r),n.m(e,null)},p(a,r){l===(l=t(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(e,null)))},d(a){a&&c(e),n.d()}}}function fr(i){let e,t,l,n,a;function r(s){i[32](s)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:cr,$$slots:{item:[sr,({inputText:s,item:u})=>({37:s,38:u}),({inputText:s,item:u})=>[0,(s?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new Lt({props:o}),st.push(()=>gt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new zt({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[ur]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){tt(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){se(e.$$.fragment),l=ce(),se(n.$$.fragment)},l(s){me(e.$$.fragment,s),l=de(s),me(n.$$.fragment,s)},m(s,u){ae(e,s,u),D(s,l,u),ae(n,s,u),a=!0},p(s,u){i=s;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],bt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(s){a||(p(e.$$.fragment,s),p(n.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),w(n.$$.fragment,s),a=!1},d(s){oe(e,s),s&&c(l),oe(n,s)}}}const cr=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function dr(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k=Y,V=()=>(k(),k=Je(T,H=>t(27,O=H)),T),S,I=Y,P=()=>(I(),I=Je(g,H=>t(28,S=H)),g),X,he=Y,be=()=>(he(),he=Je(l,H=>t(29,X=H)),l),G,te;i.$$.on_destroy.push(()=>k()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>he());let{labelsQuery:C}=e,{hideLabels:R=void 0}=e,{helperText:U="Add label"}=e,{disabled:L=!1}=e,{disabledMessage:F="User does not have access to add labels."}=e,{icon:ee}=e,{remove:J=!1}=e,{totalNumRows:ue=void 0}=e;const ne=It();let Pe="",W=null;const A=li(),v=dt();Ge(i,v,H=>t(31,te=H));const y=Mt();Ge(i,y,H=>t(30,G=H));function K(){if(W==null)return;const H={...C,label_name:W};function ve(fe){return H.row_ids!=null?`Document id: ${H.row_ids}`:`${fe.toLocaleString()} rows updated`}J?O.mutate([n,a,H],{onSuccess:fe=>{A.addNotification({kind:"success",title:`Removed label "${H.label_name}"`,message:ve(fe)})}}):S.mutate([n,a,H],{onSuccess:fe=>{A.addNotification({kind:"success",title:`Added label "${H.label_name}"`,message:ve(fe)})}}),t(8,W=null)}function Q(H){t(8,W=H.detail.text),ue==null&&K()}function ke(H){Pe=H,t(6,Pe)}const ye=()=>{t(8,W=null),ne("close")};return i.$$set=H=>{"labelsQuery"in H&&t(20,C=H.labelsQuery),"hideLabels"in H&&t(21,R=H.hideLabels),"helperText"in H&&t(0,U=H.helperText),"disabled"in H&&t(1,L=H.disabled),"disabledMessage"in H&&t(2,F=H.disabledMessage),"icon"in H&&t(3,ee=H.icon),"remove"in H&&t(4,J=H.remove),"totalNumRows"in H&&t(5,ue=H.totalNumRows)},i.$$.update=()=>{var H,ve;i.$$.dirty[1]&1&&be(t(14,l=Vt(te.namespace,te.datasetName))),i.$$.dirty[1]&1&&(n=te.namespace),i.$$.dirty[1]&1&&(a=te.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(H=G.data)==null?void 0:H.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(ve=G.data)==null?void 0:ve.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,s=X.data&&Wl(X.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(Pe)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:Pe,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(s==null?void 0:s.filter(fe=>!(R||[]).includes(fe)).map((fe,Ie)=>({id:`label_${Ie}`,text:fe})))||[]),i.$$.dirty[0]&12582992&&t(13,_=[...Pe!=""&&!J?[f]:[],...d]),i.$$.dirty[0]&536870912&&P(t(12,g=X.data!=null?Zl(X.data):null)),i.$$.dirty[0]&536870912&&V(t(11,T=X.data!=null?Ql(X.data):null)),i.$$.dirty[0]&402653184&&t(10,B=(S==null?void 0:S.isLoading)||(O==null?void 0:O.isLoading)),i.$$.dirty[0]&130&&t(9,z=L||!o)},[U,L,F,ee,J,ue,Pe,o,W,z,B,T,g,_,l,ne,v,y,K,Q,C,R,d,f,s,u,r,O,S,X,G,te,ke,ye]}class hr extends Ne{constructor(e){super(),Be(this,e,dr,fr,He,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function mr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function al(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function ol(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?al(Object(t),!0).forEach(function(l){mr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):al(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function _r(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function gr(i,e){if(i==null)return{};var t=_r(i,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function br(i,e){return vr(i)||pr(i,e)||wr(i,e)||kr()}function vr(i){if(Array.isArray(i))return i}function pr(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,a=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(s){n=!0,a=s}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw a}}return t}}function wr(i,e){if(i){if(typeof i=="string")return ul(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ul(i,e)}}function ul(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function kr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function fl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function cl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fl(Object(t),!0).forEach(function(l){yr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):fl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Ir(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,a){return a(n)},l)}}function mt(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function yt(i){return{}.toString.call(i).includes("Object")}function Er(i){return!Object.keys(i).length}function _t(i){return typeof i=="function"}function Mr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Vr(i,e){return yt(e)||rt("changeType"),Object.keys(e).some(function(t){return!Mr(i,t)})&&rt("changeField"),e}function Tr(i){_t(i)||rt("selectorType")}function Or(i){_t(i)||yt(i)||rt("handlerType"),yt(i)&&Object.values(i).some(function(e){return!_t(e)})&&rt("handlersType")}function Cr(i){i||rt("initialIsRequired"),yt(i)||rt("initialType"),Er(i)&&rt("initialContent")}function Pr(i,e){throw new Error(i[e]||i.default)}var Dr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},rt=mt(Pr)(Dr),pt={changes:Vr,selector:Tr,handler:Or,initial:Cr};function Sr(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pt.initial(i),pt.handler(e);var t={current:i},l=mt(zr)(t,e),n=mt(Rr)(t),a=mt(pt.changes)(i),r=mt(Ar)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return pt.selector(u),u(t.current)}function s(u){Ir(l,n,a,r)(u)}return[o,s]}function Ar(i,e){return _t(e)?e(i.current):e}function Rr(i,e){return i.current=cl(cl({},i.current),e),e}function zr(i,e,t){return _t(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Lr={create:Sr},Nr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Br(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Hr(i){return{}.toString.call(i).includes("Object")}function Fr(i){return i||dl("configIsRequired"),Hr(i)||dl("configType"),i.urls?(jr(),{paths:{vs:i.urls.monacoBase}}):i}function jr(){console.warn(ri.deprecation)}function qr(i,e){throw new Error(i[e]||i.default)}var ri={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},dl=Br(qr)(ri),Yr={config:Fr},Ur=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(a,r){return r(a)},n)}};function si(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],si(i[t],e[t]))}),ol(ol({},i),e)}var Kr={type:"cancelation",msg:"operation is manually canceled"};function Ot(i){var e=!1,t=new Promise(function(l,n){i.then(function(a){return e?n(Kr):l(a)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var Zr=Lr.create({config:Nr,isInitialized:!1,resolve:null,reject:null,monaco:null}),ai=br(Zr,2),vt=ai[0],Tt=ai[1];function Qr(i){var e=Yr.config(i),t=e.monaco,l=gr(e,["monaco"]);Tt(function(n){return{config:si(n.config,l),monaco:t}})}function Wr(){var i=vt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(Tt({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Ot(Ct);if(window.monaco&&window.monaco.editor)return oi(window.monaco),i.resolve(window.monaco),Ot(Ct);Ur(Gr,Jr)(xr)}return Ot(Ct)}function Gr(i){return document.body.appendChild(i)}function Xr(i){var e=document.createElement("script");return i&&(e.src=i),e}function Jr(i){var e=vt(function(l){var n=l.config,a=l.reject;return{config:n,reject:a}}),t=Xr("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function xr(){var i=vt(function(t){var l=t.config,n=t.resolve,a=t.reject;return{config:l,resolve:n,reject:a}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){oi(t),i.resolve(t)},function(t){i.reject(t)})}function oi(i){vt().monaco||Tt({monaco:i})}function $r(){return vt(function(i){var e=i.monaco;return e})}var Ct=new Promise(function(i,e){return Tt({resolve:i,reject:e})}),hl={config:Qr,init:Wr,__getMonacoInstance:$r};const ml=360,es=720;let wt;const ui={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function fi(){return wt!=null||(wt=Xi(()=>import("./editor.main.79be0ff6.js").then(i=>i.e),["./editor.main.79be0ff6.js","./preload-helper.a4192956.js","../assets/editor.e45e964a.css"],import.meta.url).then(async i=>(hl.config({monaco:i.default}),hl.init()))),wt}function ts(i){let e,t,l,n=ut(i[2])+"",a,r,o,s=ut(i[1])+"",u,f,d,_,g,T,B,z,O,k;return g=new Bn({}),{c(){e=E("div"),t=E("div"),l=E("div"),a=le(n),r=ce(),o=E("div"),u=le(s),f=ce(),d=E("div"),_=E("button"),se(g.$$.fragment),T=ce(),B=E("div"),this.h()},l(V){e=M(V,"DIV",{class:!0});var S=m(e);t=M(S,"DIV",{class:!0});var I=m(t);l=M(I,"DIV",{class:!0});var P=m(l);a=ie(P,n),P.forEach(c),r=de(I),o=M(I,"DIV",{class:!0});var X=m(o);u=ie(X,s),X.forEach(c),f=de(I),d=M(I,"DIV",{});var he=m(d);_=M(he,"BUTTON",{class:!0});var be=m(_);me(g.$$.fragment,be),be.forEach(c),he.forEach(c),I.forEach(c),T=de(S),B=M(S,"DIV",{class:!0}),m(B).forEach(c),S.forEach(c),this.h()},h(){b(l,"class","ml-8 w-1/2"),b(o,"class","ml-8 w-1/2"),b(_,"class","-mr-1 mb-1 flex flex-row"),b(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),b(B,"class","editor-container svelte-15hppq8"),b(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(V,S){D(V,e,S),h(e,t),h(t,l),h(l,a),h(t,r),h(t,o),h(o,u),h(t,f),h(t,d),h(d,_),ae(g,_,null),h(e,T),h(e,B),i[13](B),z=!0,O||(k=[Qe(_,"click",i[12]),Ye(Ze.call(null,_,{text:"Swap comparison order"}))],O=!0)},p(V,[S]){(!z||S&4)&&n!==(n=ut(V[2])+"")&&Oe(a,n),(!z||S&2)&&s!==(s=ut(V[1])+"")&&Oe(u,s)},i(V){z||(p(g.$$.fragment,V),z=!0)},o(V){w(g.$$.fragment,V),z=!1},d(V){V&&c(e),oe(g),i[13](null),O=!1,nt(k)}}}const _l=360,ls=720;function is(i,e,t){let l,n,a,r;const o=dt();let{row:s}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,_,g,T;function B(){var k,V;if(T!=null&&((k=T.getModel())==null?void 0:k.original)!=null&&((V=T.getModel())==null?void 0:V.modified)!=null){const S=Math.max(T.getOriginalEditor().getContentHeight(),T.getModifiedEditor().getContentHeight());t(5,f=S>_l),d||!f?t(3,_.style.height=`${Math.min(S,ls)}px`,_):t(3,_.style.height=_l+"px",_),T.layout()}}ql(async()=>{t(8,g=await fi()),t(9,T=g.editor.createDiffEditor(_,{...ui,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),T.onDidChangeModel(()=>{B()})}),Yl(()=>{var k,V;(k=T.getModel())==null||k.modified.dispose(),(V=T.getModel())==null||V.original.dispose(),T==null||T.dispose()});const z=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function O(k){st[k?"unshift":"push"](()=>{_=k,t(3,_)})}return i.$$set=k=>{"row"in k&&t(6,s=k.row),"colCompareState"in k&&t(0,u=k.colCompareState),"textIsOverBudget"in k&&t(5,f=k.textIsOverBudget),"isExpanded"in k&&t(7,d=k.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,a=it.value(at(s,l)[0])),i.$$.dirty&66&&t(10,r=it.value(at(s,n)[0])),i.$$.dirty&192&&(d!=null||s!=null)&&B(),i.$$.dirty&3840&&T!=null&&a!=null&&r!=null&&(T.setModel({original:g.editor.createModel(a,"text/plain"),modified:g.editor.createModel(r,"text/plain")}),B())},[u,n,l,_,o,f,s,d,g,T,r,a,z,O]}class ns extends Ne{constructor(e){super(),Be(this,e,is,ts,He,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function gl(i){let e,t,l;return t=new ht({props:{class:"ml-6 w-full ",lines:3}}),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);me(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","ml-6 w-full")},m(n,a){D(n,e,a),ae(t,e,null),l=!0},i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function rs(i){let e,t,l,n,a=!i[2]&&gl();return{c(){e=E("div"),a&&a.c(),t=ce(),l=E("div"),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);a&&a.l(o),t=de(o),l=M(o,"DIV",{class:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){b(l,"class","editor-container ml-6 h-64"),j(l,"hidden",i[0]),j(l,"invisible",!i[2]),b(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(r,o){D(r,e,o),a&&a.m(e,null),h(e,t),h(e,l),i[29](l),n=!0},p(r,o){r[2]?a&&(Ve(),w(a,1,1,()=>{a=null}),Te()):a?o[0]&4&&p(a,1):(a=gl(),a.c(),p(a,1),a.m(e,t)),(!n||o[0]&1)&&j(l,"hidden",r[0]),(!n||o[0]&4)&&j(l,"invisible",!r[2])},i(r){n||(p(a),n=!0)},o(r){w(a),n=!1},d(r){r&&c(e),a&&a.d(),i[29](null)}}}function bl(i){return i.length>40?i.slice(0,40)+"...":i}function Pt(i,e){return`add-to-concept-${i}-${e}`}function ss(i,e,t){let l,n,a,r,o=Y,s=()=>(o(),o=Je(k,v=>t(28,r=v)),k),u;i.$$.on_destroy.push(()=>o());let{text:f}=e,{row:d}=e,{field:_=void 0}=e,{spanPaths:g}=e,{path:T=void 0}=e,{hidden:B}=e,{spanValueInfos:z}=e,{embeddings:O}=e,{datasetViewStore:k=void 0}=e;s();let{isExpanded:V=!1}=e,{textIsOverBudget:S=!1}=e,{viewType:I=void 0}=e,P,X=!1,he={};const be=Ei();Ge(i,be,v=>t(30,u=v));const G=(v,y,K,Q)=>{if(!y||!v)throw Error("Label could not be added, no active concept.");u.mutate([v,y,{insert:[{text:K,label:Q}]}])};let te,C,R=null,U=null;function L(){if(R!=null&&R.getModel()!=null){const v=R.getContentHeight();t(6,S=v>ml),V||!S?t(3,te.style.height=`${Math.min(v,es)}px`,te):t(3,te.style.height=ml+"px",te),R.layout()}}ql(async()=>{t(18,C=await fi()),t(19,R=C.editor.create(te,{...ui,lineNumbers:"on",glyphMargin:!0,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(20,U=C.editor.createModel(f,"text/plain")),R.setModel(U),document.fonts.ready.then(()=>{C.editor.remeasureFonts(),t(2,X=!0)})});function F(v){if(U==null)return[];const y=v.namedValue,K=y.info.name;if(v.isConceptSearch){const Q=y.info.signal,ke=window.location.origin+Vi(Q.namespace,Q.concept_name),ye=y.value.toFixed(2);return[{value:`**concept** <a href="${ke}">${K}</a> (${ye})`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isSemanticSearch){const Q=y.info.signal,ke=y.value.toFixed(2);return[{value:`**more like this** *${bl(Q.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${ke}`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isKeywordSearch){const Q=y.info.signal;return[{value:`**keyword search** *${bl(Q.query)}*`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isLeafSpan)return[{value:`**span** *${ft(y.info.path)}*`,supportHtml:!0,isTrusted:!0},...y.value!=null?[{value:`value: *${y.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:v.text,supportHtml:!1,isTrusted:!1}];return[]}function ee(){if(R==null)return null;const v=R.getSelection();return v==null?null:U.getValueInRange(v)}let J={};const ue=k!=null?Ji(k,v=>{if(v.selection==null)return null;const[y,K]=v.selection;return et(y,T)?K:null}):null;Ge(i,ue,v=>t(27,a=v));let ne=[],Pe=[],W=[];Yl(()=>{U==null||U.dispose(),R==null||R.dispose()});function A(v){st[v?"unshift":"push"](()=>{te=v,t(3,te)})}return i.$$set=v=>{"text"in v&&t(7,f=v.text),"row"in v&&t(8,d=v.row),"field"in v&&t(9,_=v.field),"spanPaths"in v&&t(10,g=v.spanPaths),"path"in v&&t(11,T=v.path),"hidden"in v&&t(0,B=v.hidden),"spanValueInfos"in v&&t(12,z=v.spanValueInfos),"embeddings"in v&&t(13,O=v.embeddings),"datasetViewStore"in v&&s(t(1,k=v.datasetViewStore)),"isExpanded"in v&&t(14,V=v.isExpanded),"textIsOverBudget"in v&&t(6,S=v.textIsOverBudget),"viewType"in v&&t(15,I=v.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,P={}),g.forEach(v=>{let y=at(d,v);Gl(v,T)&&(y=y.filter(Q=>Mi(it.path(Q),T)||T==null)),t(16,P[ft(v)]=y,P)})),i.$$.dirty[0]&135168){t(17,he={});for(const v of z){const y=ft(v.spanPath);he[y]==null&&t(17,he[y]=[],he),he[y].push(v)}}if(i.$$.dirty[0]&16640&&(V!=null||d!=null)&&L(),i.$$.dirty[0]&1048704&&U!=null&&f!=null&&(U.setValue(f),L()),i.$$.dirty[0]&196736&&t(25,l=$i(f,P,he)),i.$$.dirty[0]&35127296&&U!=null&&R!=null){let v=null;for(const y of l){const K=it.span(y.span),Q=U.getPositionAt(K.start);(v==null||Q.lineNumber<v.lineNumber)&&(v=Q)}v!=null&&R.revealPositionNearTop(v)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?Ti(r,null):null),i.$$.dirty[0]&69730304&&R!=null){for(const v of Object.values(J))v.set(!1);for(const v of n||[]){if(v.type!="concept")continue;const y=Pt(v.concept_namespace,v.concept_name);if(J[y]==null){const K=R.createContextKey(y,!0);t(21,J[y]=K,J)}else J[y].set(!0)}}if(i.$$.dirty[0]&67633152&&R!=null&&n!=null){for(const v of n)if(v.type=="concept"){const y=`add-positive-to-concept-${v.concept_name}`;if(R.getAction(y)!=null)continue;R.addAction({id:y,label:`👍 add as positive to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Pt(v.concept_namespace,v.concept_name),run:()=>{const K=ee();if(K==null)return;const Q=!0;G(v.concept_namespace,v.concept_name,K,Q)}}),R.addAction({id:"add-negative-to-concept",label:`👎 add as negative to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Pt(v.concept_namespace,v.concept_name),run:()=>{const K=ee();if(K==null)return;const Q=!1;G(v.concept_namespace,v.concept_name,K,Q)}})}}if(i.$$.dirty[0]&532994&&R!=null&&O!=null){for(const y of O){const K=`find-similar-${y}`;R.getAction(K)==null&&R.addAction({id:K,label:"🔍 More like this"+(O.length>1?` with ${y}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(k==null||_==null)return;const Q=ee();Q!=null&&k.addSearch({path:_.path,type:"semantic",query_type:"document",query:Q,embedding:y})}})}const v="keyword-search";R.getAction(v)==null&&R.addAction({id:v,label:"🔍 Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(k==null||_==null)return;const y=ee();y!=null&&k.addSearch({path:_.path,type:"keyword",query:y})}})}if(i.$$.dirty[0]&35389440&&R!=null&&U!=null&&t(22,ne=l.flatMap(v=>{if(U==null)return[];const y=it.span(v.span),K=U.getPositionAt(y.start),Q=U.getPositionAt(y.end);if(K==null||Q==null)return[];const ke=[],ye=F(v),H=new C.Range(K.lineNumber,K.column,Q.lineNumber,Q.column);let ve="";if(v.isConceptSearch||v.isSemanticSearch){const fe=v.value;fe<.55?ve="bg-blue-50":fe<.6?ve="bg-blue-100":fe<.7?ve="bg-blue-200":fe<.8?ve="bg-blue-300":fe<.9?ve="bg-blue-400":ve="bg-blue-500"}return v.isKeywordSearch?ke.push({range:H,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:ye,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:C.editor.MinimapPosition.Inline,color:"#888888"}}}):v.isConceptSearch?ke.push({range:H,options:{className:"concept-search-bg "+ve,inlineClassName:"concept-search-text",hoverMessage:ye,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:C.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isSemanticSearch?ke.push({range:H,options:{className:"semantic-search-bg "+ve,inlineClassName:"semantic-search-text",hoverMessage:ye,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:C.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isMetadata&&ke.push({range:H,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:ye,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:ye,isWholeLine:!1,minimap:{position:C.editor.MinimapPosition.Inline,color:"#888888"}}}),ke})),i.$$.dirty[0]&144441344&&R!=null&&U!=null&&ue!=null&&a!=null&&(t(23,Pe=[]),a.startLine==a.endLine&&a.startCol==a.endCol?Pe.push({range:new C.Range(a.startLine,a.startCol,a.endLine,a.endCol||U.getLineMaxColumn(a.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"}}}):Pe.push({range:new C.Range(a.startLine,a.startCol,a.endLine,a.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"🔗 From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"},minimap:{position:C.editor.MinimapPosition.Inline,color:"#cccccc"}}}),R.revealLineInCenter(a.startLine)),i.$$.dirty[0]&1870338&&U!=null&&R!=null&&I!=null&&T!=null){const v="link-selection";R.getAction(v)==null&&R.addAction({id:v,label:"🔗 Link to selection",contextMenuGroupId:"navigation_links",keybindings:[C.KeyMod.CtrlCmd|C.KeyCode.KeyK],run:()=>{if(k==null||T==null||_==null||R==null)return;const y=R.getSelection();y!=null&&(k.setTextSelection(T,{startLine:y.startLineNumber,endLine:y.endLineNumber,startCol:y.startColumn,endCol:y.endColumn}),R.setSelection(y))}})}i.$$.dirty[0]&134217728&&a==null&&t(23,Pe=[]),i.$$.dirty[0]&29884416&&R!=null&&t(24,W=R.deltaDecorations(W,[...ne,...Pe]))},[B,k,X,te,be,ue,S,f,d,_,g,T,z,O,V,I,P,he,C,R,U,J,ne,Pe,W,l,n,a,r,A]}class as extends Ne{constructor(e){super(),Be(this,e,ss,rs,He,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function vl(i,e,t){const l=i.slice();l[52]=e[t],l[57]=t;const n=[...l[5]||[],l[52]];l[53]=n;const a=l[27](l[53]);l[54]=a;const r=l[5]&&l[5].length>1?"border-neutral-200":"border-neutral-300";return l[55]=r,l}function os(i){let e,t,l,n=!i[24]&&i[11]&&pl(i),a=i[7],r=[];for(let s=0;s<a.length;s+=1)r[s]=wl(vl(i,a,s));const o=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){e=E("div"),n&&n.c(),t=ce();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);n&&n.l(u),t=de(u);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(c),this.h()},h(){b(e,"class","flex flex-col")},m(s,u){D(s,e,u),n&&n.m(e,null),h(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(s,u){if(!s[24]&&s[11]?n?n.p(s,u):(n=pl(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),u[0]&150997183){a=s[7];let f;for(f=0;f<a.length;f+=1){const d=vl(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=wl(d),r[f].c(),p(r[f],1),r[f].m(e,null))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)p(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);l=!1},d(s){s&&c(e),n&&n.d(),Et(r,s)}}}function us(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V,S,I,P,X,he,be,G,te,C,R,U,L,F,ee,J,ue,ne,Pe,W,A=i[11]!=""&&i[20]==null&&kl(i);s=new Gi({props:{size:16}});const v=[cs,fs],y=[];function K(q,we){return q[15]?0:1}_=K(i),g=y[_]=v[_](i);const Q=[hs,ds],ke=[];function ye(q,we){return q[14]?1:0}O=ye(i),k=ke[O]=Q[O](i);const H=[_s,ms],ve=[];function fe(q,we){return q[10].showMetadataPanel?0:1}I=fe(i),P=ve[I]=H[I](i);const Ie=[bs,gs],Me=[];function Ce(q,we){return q[13]?0:1}G=Ce(i),te=Me[G]=Ie[G](i);let _e=i[20]!=null&&yl(i);const We=[ks,ws,ps,vs],N=[];function ge(q,we){return q[6]?0:q[23]==null||q[1]==null?1:q[14]==null?2:3}return J=ge(i),ue=N[J]=We[J](i),{c(){e=E("div"),t=E("div"),l=E("div"),A&&A.c(),n=ce(),a=E("div"),r=E("div"),o=E("button"),se(s.$$.fragment),f=ce(),d=E("button"),g.c(),z=ce(),k.c(),V=ce(),S=E("button"),P.c(),he=ce(),be=E("button"),te.c(),U=ce(),L=E("div"),_e&&_e.c(),F=ce(),ee=E("div"),ue.c(),this.h()},l(q){e=M(q,"DIV",{class:!0});var we=m(e);t=M(we,"DIV",{class:!0});var Ke=m(t);l=M(Ke,"DIV",{class:!0});var Fe=m(l);A&&A.l(Fe),n=de(Fe),a=M(Fe,"DIV",{class:!0});var Ee=m(a);r=M(Ee,"DIV",{});var re=m(r);o=M(re,"BUTTON",{});var Re=m(o);me(s.$$.fragment,Re),Re.forEach(c),re.forEach(c),f=de(Ee),d=M(Ee,"BUTTON",{});var je=m(d);g.l(je),je.forEach(c),z=de(Ee),k.l(Ee),V=de(Ee),S=M(Ee,"BUTTON",{});var Z=m(S);P.l(Z),Z.forEach(c),he=de(Ee),be=M(Ee,"BUTTON",{});var ze=m(be);te.l(ze),ze.forEach(c),Ee.forEach(c),Fe.forEach(c),Ke.forEach(c),U=de(we),L=M(we,"DIV",{class:!0});var Ue=m(L);_e&&_e.l(Ue),F=de(Ue),ee=M(Ue,"DIV",{class:!0});var $e=m(ee);ue.l($e),$e.forEach(c),Ue.forEach(c),we.forEach(c),this.h()},h(){o.disabled=i[18],j(r,"opacity-50",i[18]),d.disabled=T=i[14]!=null,j(d,"opacity-50",i[14]!=null),be.disabled=C=!i[12],j(be,"opacity-50",!i[12]),b(a,"class","flex flex-row gap-x-1"),b(l,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),b(t,"class","relative mr-4 flex w-28 flex-row rounded border-neutral-200 px-2 font-mono font-medium text-neutral-500 md:w-36"),b(ee,"class","grow pt-1"),b(L,"class","flex grow flex-col font-normal"),b(e,"class","flex w-full flex-row gap-x-4"),j(e,"border",i[24])},m(q,we){D(q,e,we),h(e,t),h(t,l),A&&A.m(l,null),h(l,n),h(l,a),h(a,r),h(r,o),ae(s,o,null),h(a,f),h(a,d),y[_].m(d,null),h(a,z),ke[O].m(a,null),h(a,V),h(a,S),ve[I].m(S,null),h(a,he),h(a,be),Me[G].m(be,null),h(e,U),h(e,L),_e&&_e.m(L,null),h(L,F),h(L,ee),N[J].m(ee,null),ne=!0,Pe||(W=[Qe(o,"click",i[43]),Ye(Ze.call(null,o,{text:"More like this"})),Ye(u=Ze.call(null,r,{text:i[18]?'"More like this" requires an embedding index':void 0})),Qe(d,"click",i[44]),Ye(B=Ze.call(null,d,{text:i[15]?"Back to text":"Preview markdown"})),Qe(S,"click",i[46]),Ye(X=Ze.call(null,S,{text:i[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),Qe(be,"click",i[47]),Ye(R=Ze.call(null,be,{text:i[13]?"Collapse text":"Expand text"}))],Pe=!0)},p(q,we){q[11]!=""&&q[20]==null?A?A.p(q,we):(A=kl(q),A.c(),A.m(l,n)):A&&(A.d(1),A=null),(!ne||we[0]&262144)&&(o.disabled=q[18]),u&&tt(u.update)&&we[0]&262144&&u.update.call(null,{text:q[18]?'"More like this" requires an embedding index':void 0}),(!ne||we[0]&262144)&&j(r,"opacity-50",q[18]);let Ke=_;_=K(q),_!==Ke&&(Ve(),w(y[Ke],1,1,()=>{y[Ke]=null}),Te(),g=y[_],g||(g=y[_]=v[_](q),g.c()),p(g,1),g.m(d,null)),(!ne||we[0]&16384&&T!==(T=q[14]!=null))&&(d.disabled=T),B&&tt(B.update)&&we[0]&32768&&B.update.call(null,{text:q[15]?"Back to text":"Preview markdown"}),(!ne||we[0]&16384)&&j(d,"opacity-50",q[14]!=null);let Fe=O;O=ye(q),O===Fe?ke[O].p(q,we):(Ve(),w(ke[Fe],1,1,()=>{ke[Fe]=null}),Te(),k=ke[O],k?k.p(q,we):(k=ke[O]=Q[O](q),k.c()),p(k,1),k.m(a,V));let Ee=I;I=fe(q),I!==Ee&&(Ve(),w(ve[Ee],1,1,()=>{ve[Ee]=null}),Te(),P=ve[I],P||(P=ve[I]=H[I](q),P.c()),p(P,1),P.m(S,null)),X&&tt(X.update)&&we[0]&1024&&X.update.call(null,{text:q[10].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let re=G;G=Ce(q),G!==re&&(Ve(),w(Me[re],1,1,()=>{Me[re]=null}),Te(),te=Me[G],te||(te=Me[G]=Ie[G](q),te.c()),p(te,1),te.m(be,null)),(!ne||we[0]&4096&&C!==(C=!q[12]))&&(be.disabled=C),R&&tt(R.update)&&we[0]&8192&&R.update.call(null,{text:q[13]?"Collapse text":"Expand text"}),(!ne||we[0]&4096)&&j(be,"opacity-50",!q[12]),q[20]!=null?_e?_e.p(q,we):(_e=yl(q),_e.c(),_e.m(L,F)):_e&&(_e.d(1),_e=null);let Re=J;J=ge(q),J===Re?N[J].p(q,we):(Ve(),w(N[Re],1,1,()=>{N[Re]=null}),Te(),ue=N[J],ue?ue.p(q,we):(ue=N[J]=We[J](q),ue.c()),p(ue,1),ue.m(ee,null)),(!ne||we[0]&16777216)&&j(e,"border",q[24])},i(q){ne||(p(s.$$.fragment,q),p(g),p(k),p(P),p(te),p(ue),ne=!0)},o(q){w(s.$$.fragment,q),w(g),w(k),w(P),w(te),w(ue),ne=!1},d(q){q&&c(e),A&&A.d(),oe(s),y[_].d(),ke[O].d(),ve[I].d(),Me[G].d(),_e&&_e.d(),N[J].d(),Pe=!1,nt(W)}}}function pl(i){let e,t;return{c(){e=E("div"),t=le(i[11]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=ie(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","mx-4 my-2 truncate font-mono font-medium text-neutral-500")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Oe(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function wl(i){let e,t,l,n,a;return t=new ci({props:{rootPath:[...i[5]||[],i[52]],mediaFields:i[4],row:i[1],field:i[2],highlightedFields:i[3],mediaPath:i[0]}}),{c(){e=E("div"),se(t.$$.fragment),l=ce(),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);me(t.$$.fragment,o),l=de(o),o.forEach(c),this.h()},h(){b(e,"class",n=i[55]),j(e,"mx-4",!i[24]&&i[11]),j(e,"m-2",!i[54]),j(e,"border-b",i[57]<i[7].length-1)},m(r,o){D(r,e,o),ae(t,e,null),h(e,l),a=!0},p(r,o){const s={};o[0]&160&&(s.rootPath=[...r[5]||[],r[52]]),o[0]&16&&(s.mediaFields=r[4]),o[0]&2&&(s.row=r[1]),o[0]&4&&(s.field=r[2]),o[0]&8&&(s.highlightedFields=r[3]),o[0]&1&&(s.mediaPath=r[0]),t.$set(s),(!a||o[0]&32&&n!==(n=r[55]))&&b(e,"class",n),(!a||o[0]&16779296)&&j(e,"mx-4",!r[24]&&r[11]),(!a||o[0]&134217888)&&j(e,"m-2",!r[54]),(!a||o[0]&160)&&j(e,"border-b",r[57]<r[7].length-1)},i(r){a||(p(t.$$.fragment,r),a=!0)},o(r){w(t.$$.fragment,r),a=!1},d(r){r&&c(e),oe(t)}}}function kl(i){let e,t;return{c(){e=E("div"),t=le(i[11]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=ie(n,i[11]),n.forEach(c),this.h()},h(){b(e,"title",i[11]),b(e,"class","m-2 w-full flex-initial truncate")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&2048&&Oe(t,l[11]),n[0]&2048&&b(e,"title",l[11])},d(l){l&&c(e)}}}function fs(i){let e,t;return e=new Cn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function cs(i){let e,t;return e=new mn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ds(i){let e,t,l,n,a;return t=new ni({props:{size:16}}),{c(){e=E("button"),se(t.$$.fragment)},l(r){e=M(r,"BUTTON",{});var o=m(e);me(t.$$.fragment,o),o.forEach(c)},m(r,o){D(r,e,o),ae(t,e,null),l=!0,n||(a=[Qe(e,"click",i[45]),Ye(Ze.call(null,e,{text:"Remove comparison"}))],n=!0)},p:Y,i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){w(t.$$.fragment,r),l=!1},d(r){r&&c(e),oe(t),n=!1,nt(a)}}}function hs(i){let e,t;return e=new Lt({props:{disabled:i[19].length===0,helperText:"Compare to",items:i[19],buttonIcon:Sn,hoist:!0}}),e.$on("select",i[30]),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const a={};n[0]&524288&&(a.disabled=l[19].length===0),n[0]&524288&&(a.items=l[19]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ms(i){let e,t;return e=new Vn({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function _s(i){let e,t;return e=new In({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function gs(i){let e,t;return e=new Qi({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function bs(i){let e,t;return e=new Wi({props:{size:16}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function yl(i){let e,t;return{c(){e=E("div"),t=le(i[20]),this.h()},l(l){e=M(l,"DIV",{class:!0});var n=m(e);t=ie(n,i[20]),n.forEach(c),this.h()},h(){b(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&1048576&&Oe(t,l[20])},d(l){l&&c(e)}}}function vs(i){let e,t,l;function n(r){i[49](r)}let a={row:i[1],colCompareState:i[14],isExpanded:i[13]};return i[12]!==void 0&&(a.textIsOverBudget=i[12]),e=new ns({props:a}),st.push(()=>gt(e,"textIsOverBudget",n)),{c(){se(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,o){ae(e,r,o),l=!0},p(r,o){const s={};o[0]&2&&(s.row=r[1]),o[0]&16384&&(s.colCompareState=r[14]),o[0]&8192&&(s.isExpanded=r[13]),!t&&o[0]&4096&&(t=!0,s.textIsOverBudget=r[12],bt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){oe(e,r)}}}function ps(i){let e,t,l,n,a,r,o;function s(f){i[48](f)}let u={hidden:i[15],text:i[23],row:i[1],path:i[5],field:i[2],isExpanded:i[13],spanPaths:i[17].spanPaths,spanValueInfos:i[17].spanValueInfos,datasetViewStore:i[28],embeddings:i[9],viewType:i[16]};return i[12]!==void 0&&(u.textIsOverBudget=i[12]),e=new as({props:u}),st.push(()=>gt(e,"textIsOverBudget",s)),r=new Ai({props:{source:kt(i[23])}}),{c(){se(e.$$.fragment),l=ce(),n=E("div"),a=E("div"),se(r.$$.fragment),this.h()},l(f){me(e.$$.fragment,f),l=de(f),n=M(f,"DIV",{class:!0});var d=m(n);a=M(d,"DIV",{class:!0});var _=m(a);me(r.$$.fragment,_),_.forEach(c),d.forEach(c),this.h()},h(){b(a,"class","markdown -ml-0.5 w-fit pl-14"),b(n,"class","markdown w-full"),j(n,"hidden",!i[15])},m(f,d){ae(e,f,d),D(f,l,d),D(f,n,d),h(n,a),ae(r,a,null),o=!0},p(f,d){const _={};d[0]&32768&&(_.hidden=f[15]),d[0]&8388608&&(_.text=f[23]),d[0]&2&&(_.row=f[1]),d[0]&32&&(_.path=f[5]),d[0]&4&&(_.field=f[2]),d[0]&8192&&(_.isExpanded=f[13]),d[0]&131072&&(_.spanPaths=f[17].spanPaths),d[0]&131072&&(_.spanValueInfos=f[17].spanValueInfos),d[0]&512&&(_.embeddings=f[9]),d[0]&65536&&(_.viewType=f[16]),!t&&d[0]&4096&&(t=!0,_.textIsOverBudget=f[12],bt(()=>t=!1)),e.$set(_);const g={};d[0]&8388608&&(g.source=kt(f[23])),r.$set(g),(!o||d[0]&32768)&&j(n,"hidden",!f[15])},i(f){o||(p(e.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){w(e.$$.fragment,f),w(r.$$.fragment,f),o=!1},d(f){oe(e,f),f&&c(l),f&&c(n),oe(r)}}}function ws(i){let e,t;return{c(){e=E("span"),t=le("null"),this.h()},l(l){e=M(l,"SPAN",{class:!0});var n=m(e);t=ie(n,"null"),n.forEach(c),this.h()},h(){b(e,"class","ml-12 italic")},m(l,n){D(l,e,n),h(e,t)},p:Y,i:Y,o:Y,d(l){l&&c(e)}}}function ks(i){let e,t;return e=new ht({props:{class:"!w-80"}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:Y,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function ys(i){let e,t,l,n;const a=[us,os],r=[];function o(s,u){return s[26]?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Is(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V,S,I,P,X,he=Y,be=()=>(he(),he=Je(u,re=>t(40,X=re)),u),G,te,C,R=Y,U=()=>(R(),R=Je(n,re=>t(41,C=re)),n),L,F=Y,ee=()=>(F(),F=Je(f,re=>t(42,L=re)),f);i.$$.on_destroy.push(()=>he()),i.$$.on_destroy.push(()=>R()),i.$$.on_destroy.push(()=>F());let{mediaPath:J}=e,{row:ue=void 0}=e,{field:ne}=e,{highlightedFields:Pe}=e,{mediaFields:W}=e,{rootPath:A=void 0}=e,{isFetching:v=void 0}=e,y;function K(re){var Re;return C.data!=null&&re!=null?((Re=Si(C.data,re))==null?void 0:Re.repeated_field)!=null:!1}let Q,ke=!1,ye=!1,H;const ve=dt();Ge(i,ve,re=>t(10,G=re));const fe=Zi();Ge(i,fe,re=>t(50,te=re));function Ie(re){return re.map((Re,je)=>Re===Rt?A[je]:Re)}function Me(re){ve.addCompareColumn([A,re.detail.id])}function Ce(re){var je;if(A==null)return;let Re=O[0];if(((je=X.data)==null?void 0:je.preferred_embedding)!=null){const Z=X.data.preferred_embedding;O.some(ze=>ze===Z)&&(Re=Z)}if(te.embedding!=null){const Z=te.embedding;O.some(ze=>ze===Z)&&(Re=Z)}ve.addSearch({path:A,type:"semantic",query:re,query_type:"document",embedding:Re})}let _e=null;function We(){ve.removeCompareColumn(J)}const N=()=>Ce(s),ge=()=>t(8,H=!P),q=()=>We(),we=()=>wi(ve,G.showMetadataPanel=!G.showMetadataPanel,G),Ke=()=>t(13,ye=!ye);function Fe(re){ke=re,t(12,ke)}function Ee(re){ke=re,t(12,ke)}return i.$$set=re=>{"mediaPath"in re&&t(0,J=re.mediaPath),"row"in re&&t(1,ue=re.row),"field"in re&&t(2,ne=re.field),"highlightedFields"in re&&t(3,Pe=re.highlightedFields),"mediaFields"in re&&t(4,W=re.mediaFields),"rootPath"in re&&t(5,A=re.rootPath),"isFetching"in re&&t(6,v=re.isFetching)},i.$$.update=()=>{var re,Re,je,Z,ze,Ue,$e,lt;if(i.$$.dirty[0]&50){const Le=new Set;if(A==null)for(const qe of W){const ot=qe.path[0];Le.add(ot)}else for(const qe of W){if(!Gl(qe.path,A)||qe.path[A.length]==null)continue;const di=[...A,qe.path[A.length]],hi=at(ue,di);for(const mi of hi){const Nt=it.path(mi)[A.length];Nt!=null&&Le.add(Nt)}}t(7,y=Array.from(Le))}if(i.$$.dirty[0]&128&&t(26,l=y.length===0),i.$$.dirty[0]&1024&&U(t(25,n=Vt(G.namespace,G.datasetName))),i.$$.dirty[0]&32&&t(39,a=K(A==null?void 0:A.slice(0,-1))),i.$$.dirty[0]&32&&t(24,r=K(A)),i.$$.dirty[0]&32|i.$$.dirty[1]&256&&(A!=null?a?t(11,Q=ut(A.slice(-2))):t(11,Q=A[A.length-1]):t(11,Q="")),i.$$.dirty[0]&34&&t(38,o=ue!=null?at(ue,A):[]),i.$$.dirty[1]&128&&t(23,s=it.value(o[0])),i.$$.dirty[0]&1024&&be(t(22,u=Xl(G.namespace,G.datasetName))),i.$$.dirty[0]&1024&&ee(t(21,f=Oi(G.namespace,G.datasetName))),i.$$.dirty[1]&2048&&t(37,d=(Re=(re=L.data)==null?void 0:re.dataset_manifest.dataset_format)==null?void 0:Re.title_slots),i.$$.dirty[0]&32|i.$$.dirty[1]&64&&t(36,_=(je=(d||[]).find(Le=>{const[qe]=Le;return et(qe,A)}))==null?void 0:je[1]),i.$$.dirty[0]&2|i.$$.dirty[1]&32&&t(20,g=_!=null&&ue!=null?it.value(at(ue,Ie(_))[0]):null),i.$$.dirty[1]&1024&&t(35,T=C.data!=null?Jl(C.data).filter(Le=>{var qe;return((qe=Le.dtype)==null?void 0:qe.type)==="string"}):[]),i.$$.dirty[0]&34|i.$$.dirty[1]&16&&t(34,B=T.map(Le=>Le.path).map(Le=>Array.isArray(Le)?Le:[Le]).flatMap(Le=>ue==null?[]:at(ue,Le).map(qe=>it.path(qe)).filter(qe=>!Ci(qe,A)))),i.$$.dirty[1]&8&&t(19,z=B.map(Le=>({id:Le,text:ut(Le)}))),i.$$.dirty[0]&1|i.$$.dirty[1]&1024&&t(9,O=Pi(C.data,J)),i.$$.dirty[0]&512&&t(18,k=O.length===0),i.$$.dirty[0]&12&&t(17,V=Di(ne,Pe)),i.$$.dirty[0]&1056){t(14,_e=null);for(const Le of G.compareColumns)if(et(Le.column,A)){t(14,_e=Le);break}}i.$$.dirty[0]&1|i.$$.dirty[1]&512&&t(33,S=((Ue=(ze=(Z=X.data)==null?void 0:Z.ui)==null?void 0:ze.markdown_paths)==null?void 0:Ue.find(Le=>et(Le,J)))!=null),i.$$.dirty[1]&512&&t(16,I=((lt=($e=X.data)==null?void 0:$e.ui)==null?void 0:lt.view_type)||"single_item"),i.$$.dirty[0]&256|i.$$.dirty[1]&4&&t(15,P=H!==void 0?H:S)},[J,ue,ne,Pe,W,A,v,y,H,O,G,Q,ke,ye,_e,P,I,V,k,z,g,f,u,s,r,n,l,K,ve,fe,Me,Ce,We,S,B,T,_,d,o,a,X,C,L,N,ge,q,we,Ke,Fe,Ee]}class ci extends Ne{constructor(e){super(),Be(this,e,Is,ys,He,{mediaPath:0,row:1,field:2,highlightedFields:3,mediaFields:4,rootPath:5,isFetching:6},null,[-1,-1])}}function Es(i){let e,t,l,n;return{c(){e=E("button"),t=le(i[1]),this.h()},l(a){e=M(a,"BUTTON",{class:!0});var r=m(e);t=ie(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],b(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),j(e,"bg-slate-500",i[0]),j(e,"bg-white",!i[0]),j(e,"hover:bg-slate-500",i[0]),j(e,"hover:bg-transparent",!i[0]),j(e,"text-white",i[0])},m(a,r){D(a,e,r),h(e,t),l||(n=Qe(e,"click",i[3]),l=!0)},p(a,[r]){r&2&&Oe(t,a[1]),r&4&&(e.disabled=a[2]),r&1&&j(e,"bg-slate-500",a[0]),r&1&&j(e,"bg-white",!a[0]),r&1&&j(e,"hover:bg-slate-500",a[0]),r&1&&j(e,"hover:bg-transparent",!a[0]),r&1&&j(e,"text-white",a[0])},i:Y,o:Y,d(a){a&&c(e),l=!1,n()}}}function Ms(i,e,t){let{label:l}=e,{active:n}=e,{disabled:a=!1}=e;function r(o){Ul.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,a=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!a)},[n,l,a,r]}class Vs extends Ne{constructor(e){super(),Be(this,e,Ms,Es,He,{label:1,active:0,disabled:2})}}function Ts(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=le("Restore "),l=E("span"),a=le(n),r=le(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=ie(u,"Restore "),l=M(u,"SPAN",{class:!0});var f=m(l);a=ie(f,n),f.forEach(c),r=ie(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Oe(a,n)},d(s){s&&c(e)}}}function Os(i){let e,t,l,n,a,r,o,s,u,f;return l=new ni({}),o=new zt({props:{size:"xs",open:i[2]&&i[3],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Ts]},$$scope:{ctx:i}}}),o.$on("submit",i[12]),o.$on("click:button--secondary",i[13]),o.$on("close",i[14]),{c(){e=E("div"),t=E("button"),se(l.$$.fragment),r=ce(),se(o.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);t=M(_,"BUTTON",{class:!0});var g=m(t);me(l.$$.fragment,g),g.forEach(c),_.forEach(c),r=de(d),me(o.$$.fragment,d),this.h()},h(){t.disabled=n=!i[3],b(t,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent"),j(t,"opacity-30",!i[3]),b(e,"class","ml-2 inline-block")},m(d,_){D(d,e,_),h(e,t),ae(l,t,null),D(d,r,_),ae(o,d,_),s=!0,u||(f=[Qe(t,"click",i[11]),Ye(a=Ze.call(null,e,{text:i[3]?i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."}))],u=!0)},p(d,[_]){(!s||_&8&&n!==(n=!d[3]))&&(t.disabled=n),(!s||_&8)&&j(t,"opacity-30",!d[3]),a&&tt(a.update)&&_&10&&a.update.call(null,{text:d[3]?d[1]!=null&&d[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."});const g={};_&12&&(g.open=d[2]&&d[3]),_&262145&&(g.$$scope={dirty:_,ctx:d}),o.$set(g)},i(d){s||(p(l.$$.fragment,d),p(o.$$.fragment,d),s=!0)},o(d){w(l.$$.fragment,d),w(o.$$.fragment,d),s=!1},d(d){d&&c(e),oe(l),d&&c(r),oe(o,d),u=!1,nt(f)}}}function Cs(i,e,t){let l,n,a,r,{rowIds:o=void 0}=e,{searches:s=void 0}=e,{filters:u=void 0}=e,{numRows:f=void 0}=e;const d=Mt();Ge(i,d,I=>t(10,r=I));const _=It(),g=dt();Ge(i,g,I=>t(15,n=I));const T=Ri();Ge(i,T,I=>t(16,a=I));function B(){a.mutate([n.namespace,n.datasetName,{row_ids:o,searches:s,filters:u}],{onSuccess:()=>{_("restore"),t(2,z=!1),close()}})}let z=!1;const O=()=>{t(2,z=!0)},k=()=>B(),V=()=>{t(2,z=!1)},S=()=>t(2,z=!1);return i.$$set=I=>{"rowIds"in I&&t(1,o=I.rowIds),"searches"in I&&t(8,s=I.searches),"filters"in I&&t(9,u=I.filters),"numRows"in I&&t(0,f=I.numRows)},i.$$.update=()=>{var I;i.$$.dirty&1024&&t(3,l=(I=r.data)==null?void 0:I.access.dataset.delete_rows),i.$$.dirty&3&&f==null&&o!=null&&t(0,f=o.length)},[f,o,z,l,d,g,T,B,s,u,r,O,k,V,S]}class Ps extends Ne{constructor(e){super(),Be(this,e,Cs,Os,He,{rowIds:1,searches:8,filters:9,numRows:0})}}function Dt(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[49]=t,e}function St(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[50]=t,e}function Il(i,e,t){const l=i.slice();return l[51]=e[t],l}function El(i){let e,t,l,n,a,r;function o(){return i[38](i[51])}return t=new Vs({props:{label:i[51],disabled:i[12].has(i[51])||i[18],active:i[14].includes(i[51])}}),t.$on("click",o),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(s){e=M(s,"DIV",{});var u=m(e);me(t.$$.fragment,u),u.forEach(c),this.h()},h(){j(e,"opacity-50",i[12].has(i[51]))},m(s,u){D(s,e,u),ae(t,e,null),n=!0,a||(r=Ye(l=Ze.call(null,e,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""})),a=!0)},p(s,u){i=s;const f={};u[0]&131072&&(f.label=i[51]),u[0]&397312&&(f.disabled=i[12].has(i[51])||i[18]),u[0]&147456&&(f.active=i[14].includes(i[51])),t.$set(f),l&&tt(l.update)&&u[0]&163840&&l.update.call(null,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""}),(!n||u[0]&135168)&&j(e,"opacity-50",i[12].has(i[51]))},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){w(t.$$.fragment,s),n=!1},d(s){s&&c(e),oe(t),a=!1,r()}}}function Ml(i){let e,t,l,n,a,r,o;return l=new bn({props:{title:"Previous item",size:24}}),{c(){e=E("div"),t=E("button"),se(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);me(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[50],j(t,"opacity-30",!i[50]),b(e,"class","flex-0 my-0.5")},m(s,u){D(s,e,u),h(e,t),ae(l,t,null),a=!0,r||(o=Qe(t,"click",i[39]),r=!0)},p(s,u){(!a||u[0]&8&&n!==(n=!s[50]))&&(t.disabled=n),(!a||u[0]&8)&&j(t,"opacity-30",!s[50])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){w(l.$$.fragment,s),a=!1},d(s){s&&c(e),oe(l),r=!1,o()}}}function Ds(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-10"}}),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);me(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),ae(t,e,null),l=!0},p:Y,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function Ss(i){let e=i[3]+1+"",t;return{c(){t=le(e)},l(l){t=ie(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Oe(t,e)},i:Y,o:Y,d(l){l&&c(t)}}}function As(i){let e,t,l;return t=new ht({props:{lines:1,class:"!w-20"}}),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);me(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),ae(t,e,null),l=!0},p:Y,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){w(t.$$.fragment,n),l=!1},d(n){n&&c(e),oe(t)}}}function Rs(i){let e=kt(i[4])+"",t;return{c(){t=le(e)},l(l){t=ie(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&16&&e!==(e=kt(l[4])+"")&&Oe(t,e)},i:Y,o:Y,d(l){l&&c(t)}}}function Vl(i){let e,t,l,n,a,r,o;return l=new wn({props:{title:"Next item",size:24}}),{c(){e=E("div"),t=E("button"),se(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);me(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[49],j(t,"opacity-30",!i[49]),b(e,"class","flex-0")},m(s,u){D(s,e,u),h(e,t),ae(l,t,null),a=!0,r||(o=Qe(t,"click",i[40]),r=!0)},p(s,u){(!a||u[0]&24&&n!==(n=!s[49]))&&(t.disabled=n),(!a||u[0]&24)&&j(t,"opacity-30",!s[49])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){w(l.$$.fragment,s),a=!1},d(s){s&&c(e),oe(l),r=!1,o()}}}function Tl(i){let e,t,l,n;const a=[Ls,zs],r=[];function o(s,u){return s[10].viewTrash?1:0}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function zs(i){let e,t;return e=new Ps({props:{rowIds:[i[0]]}}),e.$on("restore",i[43]),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const a={};n[0]&1&&(a.rowIds=[l[0]]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ls(i){let e,t,l;function n(r){i[41](r)}let a={rowIds:[i[0]]};return i[11]!==void 0&&(a.modalOpen=i[11]),e=new Gn({props:a}),st.push(()=>gt(e,"modalOpen",n)),e.$on("deleted",i[42]),{c(){se(e.$$.fragment)},l(r){me(e.$$.fragment,r)},m(r,o){ae(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.rowIds=[r[0]]),!t&&o[0]&2048&&(t=!0,s.modalOpen=r[11],bt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){oe(e,r)}}}function Ol(i){let e,t;return e=new ht({props:{class:"w-20"}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Cl(i){var n;let e,t,l;return t=new ci({props:{mediaPath:[],mediaFields:i[1],row:i[7],field:i[1][0],highlightedFields:i[2],isFetching:(n=i[8])==null?void 0:n.isFetching}}),{c(){e=E("div"),se(t.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var r=m(e);me(t.$$.fragment,r),r.forEach(c),this.h()},h(){b(e,"class","flex w-full flex-col")},m(a,r){D(a,e,r),ae(t,e,null),l=!0},p(a,r){var s;const o={};r[0]&2&&(o.mediaFields=a[1]),r[0]&128&&(o.row=a[7]),r[0]&2&&(o.field=a[1][0]),r[0]&4&&(o.highlightedFields=a[2]),r[0]&256&&(o.isFetching=(s=a[8])==null?void 0:s.isFetching),t.$set(o)},i(a){l||(p(t.$$.fragment,a),l=!0)},o(a){w(t.$$.fragment,a),l=!1},d(a){a&&c(e),oe(t)}}}function Pl(i){let e,t,l,n,a,r,o;return n=new en({props:{row:i[7],selectRowsSchema:i[9].data,highlightedFields:i[2]}}),{c(){e=E("div"),t=E("div"),l=E("div"),se(n.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"DIV",{class:!0});var f=m(t);l=M(f,"DIV",{style:!0,class:!0});var d=m(l);me(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){b(l,"style",a=`max-height: ${Math.max(Dl,i[13])}px`),b(l,"class","overflow-y-auto"),b(t,"class","sticky top-0 w-full self-start"),b(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(s,u){D(s,e,u),h(e,t),h(t,l),ae(n,l,null),o=!0},p(s,u){i=s;const f={};u[0]&128&&(f.row=i[7]),u[0]&512&&(f.selectRowsSchema=i[9].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&8192&&a!==(a=`max-height: ${Math.max(Dl,i[13])}px`))&&b(l,"style",a)},i(s){o||(p(n.$$.fragment,s),Kl(()=>{o&&(r||(r=Bt(e,jt,{axis:"x",duration:Ht},!0)),r.run(1))}),o=!0)},o(s){w(n.$$.fragment,s),r||(r=Bt(e,jt,{axis:"x",duration:Ht},!1)),r.run(0),o=!1},d(s){s&&c(e),oe(n),s&&r&&r.end()}}}function Ns(i){var We;let e,t,l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V,S,I,P,X,he,be,G,te,C,R,U,L,F,ee,J,ue,ne,Pe,W=i[17]||[],A=[];for(let N=0;N<W.length;N+=1)A[N]=El(Il(i,W,N));const v=N=>w(A[N],1,1,()=>{A[N]=null});s=new hr({props:{icon:ii,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[14]}});let y=i[5]!=null&&Ml(St(i));const K=[Ss,Ds],Q=[];function ke(N,ge){return N[3]!=null&&N[3]>=0?0:1}B=ke(i),z=Q[B]=K[B](i);const ye=[Rs,As],H=[];function ve(N,ge){return N[4]!=null?0:1}P=ve(i),X=H[P]=ye[P](i);let fe=i[5]!=null&&i[4]!=null&&Vl(Dt(i)),Ie=i[0]!=null&&Tl(i),Me=((We=i[8])==null?void 0:We.isFetching)&&Ol(),Ce=i[1].length>0&&i[7]!=null&&Cl(i),_e=i[10].showMetadataPanel&&Pl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=E("div");for(let N=0;N<A.length;N+=1)A[N].c();r=ce(),o=E("div"),se(s.$$.fragment),u=ce(),f=E("div"),d=E("div"),y&&y.c(),_=ce(),g=E("div"),T=E("div"),z.c(),O=ce(),k=E("div"),V=le("of"),S=ce(),I=E("span"),X.c(),he=ce(),fe&&fe.c(),be=ce(),G=E("div"),Ie&&Ie.c(),te=ce(),C=E("div"),R=E("div"),U=E("div"),Me&&Me.c(),L=ce(),Ce&&Ce.c(),J=ce(),_e&&_e.c(),this.h()},l(N){e=M(N,"DIV",{class:!0});var ge=m(e);t=M(ge,"DIV",{class:!0});var q=m(t);l=M(q,"DIV",{class:!0});var we=m(l);n=M(we,"DIV",{class:!0});var Ke=m(n);a=M(Ke,"DIV",{class:!0});var Fe=m(a);for(let ot=0;ot<A.length;ot+=1)A[ot].l(Fe);r=de(Fe),o=M(Fe,"DIV",{class:!0});var Ee=m(o);me(s.$$.fragment,Ee),Ee.forEach(c),Fe.forEach(c),Ke.forEach(c),u=de(we),f=M(we,"DIV",{class:!0});var re=m(f);d=M(re,"DIV",{class:!0});var Re=m(d);y&&y.l(Re),_=de(Re),g=M(Re,"DIV",{class:!0});var je=m(g);T=M(je,"DIV",{class:!0});var Z=m(T);z.l(Z),Z.forEach(c),O=de(je),k=M(je,"DIV",{class:!0});var ze=m(k);V=ie(ze,"of"),ze.forEach(c),S=de(je),I=M(je,"SPAN",{class:!0});var Ue=m(I);X.l(Ue),Ue.forEach(c),je.forEach(c),he=de(Re),fe&&fe.l(Re),Re.forEach(c),re.forEach(c),be=de(we),G=M(we,"DIV",{class:!0});var $e=m(G);Ie&&Ie.l($e),$e.forEach(c),we.forEach(c),q.forEach(c),te=de(ge),C=M(ge,"DIV",{class:!0});var lt=m(C);R=M(lt,"DIV",{class:!0});var Le=m(R);U=M(Le,"DIV",{class:!0});var qe=m(U);Me&&Me.l(qe),L=de(qe),Ce&&Ce.l(qe),qe.forEach(c),Le.forEach(c),J=de(lt),_e&&_e.l(lt),lt.forEach(c),ge.forEach(c),this.h()},h(){b(o,"class","relative mr-8 h-8"),b(a,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),j(a,"opacity-50",i[18]),b(n,"class","flex w-1/3 flex-row"),b(T,"class","flex"),b(k,"class","text-gray-500 opacity-80"),b(I,"class","inline-flex text-gray-500 opacity-80"),b(g,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),b(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),b(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),b(G,"class","flex w-1/3 flex-row items-center justify-end pr-2"),b(l,"class","mx-4 flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),j(l,"bg-violet-200",!i[10].viewTrash),j(l,"bg-opacity-70",!i[10].viewTrash),j(l,"bg-red-500",i[10].viewTrash),j(l,"bg-opacity-20",i[10].viewTrash),b(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),b(U,"class","rounded-b border-b border-l border-r border-neutral-300"),b(R,"class",F=`flex flex-col ${i[10].showMetadataPanel?"w-2/3":"grow "}`),Kl(()=>i[44].call(R)),b(C,"class","flex w-full flex-row px-4"),b(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(N,ge){D(N,e,ge),h(e,t),h(t,l),h(l,n),h(n,a);for(let q=0;q<A.length;q+=1)A[q]&&A[q].m(a,null);h(a,r),h(a,o),ae(s,o,null),h(l,u),h(l,f),h(f,d),y&&y.m(d,null),h(d,_),h(d,g),h(g,T),Q[B].m(T,null),h(g,O),h(g,k),h(k,V),h(g,S),h(g,I),H[P].m(I,null),h(d,he),fe&&fe.m(d,null),h(l,be),h(l,G),Ie&&Ie.m(G,null),h(e,te),h(e,C),h(C,R),h(R,U),Me&&Me.m(U,null),h(U,L),Ce&&Ce.m(U,null),ee=ki(R,i[44].bind(R)),h(C,J),_e&&_e.m(C,null),ue=!0,ne||(Pe=Qe(window,"keydown",i[28]),ne=!0)},p(N,ge){var Fe;if(ge[0]&201773056){W=N[17]||[];let Ee;for(Ee=0;Ee<W.length;Ee+=1){const re=Il(N,W,Ee);A[Ee]?(A[Ee].p(re,ge),p(A[Ee],1)):(A[Ee]=El(re),A[Ee].c(),p(A[Ee],1),A[Ee].m(a,r))}for(Ve(),Ee=W.length;Ee<A.length;Ee+=1)v(Ee);Te()}const q={};ge[0]&1&&(q.labelsQuery={row_ids:N[0]!=null?[N[0]]:[]}),ge[0]&16384&&(q.hideLabels=N[14]),s.$set(q),(!ue||ge[0]&262144)&&j(a,"opacity-50",N[18]),N[5]!=null?y?(y.p(St(N),ge),ge[0]&32&&p(y,1)):(y=Ml(St(N)),y.c(),p(y,1),y.m(d,_)):y&&(Ve(),w(y,1,1,()=>{y=null}),Te());let we=B;B=ke(N),B===we?Q[B].p(N,ge):(Ve(),w(Q[we],1,1,()=>{Q[we]=null}),Te(),z=Q[B],z?z.p(N,ge):(z=Q[B]=K[B](N),z.c()),p(z,1),z.m(T,null));let Ke=P;P=ve(N),P===Ke?H[P].p(N,ge):(Ve(),w(H[Ke],1,1,()=>{H[Ke]=null}),Te(),X=H[P],X?X.p(N,ge):(X=H[P]=ye[P](N),X.c()),p(X,1),X.m(I,null)),N[5]!=null&&N[4]!=null?fe?(fe.p(Dt(N),ge),ge[0]&48&&p(fe,1)):(fe=Vl(Dt(N)),fe.c(),p(fe,1),fe.m(d,null)):fe&&(Ve(),w(fe,1,1,()=>{fe=null}),Te()),N[0]!=null?Ie?(Ie.p(N,ge),ge[0]&1&&p(Ie,1)):(Ie=Tl(N),Ie.c(),p(Ie,1),Ie.m(G,null)):Ie&&(Ve(),w(Ie,1,1,()=>{Ie=null}),Te()),(!ue||ge[0]&1024)&&j(l,"bg-violet-200",!N[10].viewTrash),(!ue||ge[0]&1024)&&j(l,"bg-opacity-70",!N[10].viewTrash),(!ue||ge[0]&1024)&&j(l,"bg-red-500",N[10].viewTrash),(!ue||ge[0]&1024)&&j(l,"bg-opacity-20",N[10].viewTrash),(Fe=N[8])!=null&&Fe.isFetching?Me?ge[0]&256&&p(Me,1):(Me=Ol(),Me.c(),p(Me,1),Me.m(U,L)):Me&&(Ve(),w(Me,1,1,()=>{Me=null}),Te()),N[1].length>0&&N[7]!=null?Ce?(Ce.p(N,ge),ge[0]&130&&p(Ce,1)):(Ce=Cl(N),Ce.c(),p(Ce,1),Ce.m(U,null)):Ce&&(Ve(),w(Ce,1,1,()=>{Ce=null}),Te()),(!ue||ge[0]&1024&&F!==(F=`flex flex-col ${N[10].showMetadataPanel?"w-2/3":"grow "}`))&&b(R,"class",F),N[10].showMetadataPanel?_e?(_e.p(N,ge),ge[0]&1024&&p(_e,1)):(_e=Pl(N),_e.c(),p(_e,1),_e.m(C,null)):_e&&(Ve(),w(_e,1,1,()=>{_e=null}),Te())},i(N){if(!ue){for(let ge=0;ge<W.length;ge+=1)p(A[ge]);p(s.$$.fragment,N),p(y),p(z),p(X),p(fe),p(Ie),p(Me),p(Ce),p(_e),ue=!0}},o(N){A=A.filter(Boolean);for(let ge=0;ge<A.length;ge+=1)w(A[ge]);w(s.$$.fragment,N),w(y),w(z),w(X),w(fe),w(Ie),w(Me),w(Ce),w(_e),ue=!1},d(N){N&&c(e),Et(A,N),oe(s),y&&y.d(),Q[B].d(),H[P].d(),fe&&fe.d(),Ie&&Ie.d(),Me&&Me.d(),Ce&&Ce.d(),ee(),_e&&_e.d(),ne=!1,Pe()}}}const Dl=165;function Bs(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V,S,I=Y,P=()=>(I(),I=Je(a,Z=>t(35,S=Z)),a),X,he=Y,be=()=>(he(),he=Je(f,Z=>t(46,X=Z)),f),G,te=Y,C=()=>(te(),te=Je(O,Z=>t(47,G=Z)),O),R,U=Y,L=()=>(U(),U=Je(_,Z=>t(8,R=Z)),_),F,ee=Y,J=()=>(ee(),ee=Je(s,Z=>t(36,F=Z)),s),ue,ne=Y,Pe=()=>(ne(),ne=Je(u,Z=>t(9,ue=Z)),u),W,A;i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>he()),i.$$.on_destroy.push(()=>te()),i.$$.on_destroy.push(()=>U()),i.$$.on_destroy.push(()=>ee()),i.$$.on_destroy.push(()=>ne());let{rowId:v}=e,{mediaFields:y}=e,{highlightedFields:K}=e,{index:Q=void 0}=e,{totalNumRows:ke=void 0}=e,{updateSequentialRowId:ye=void 0}=e,{nextRowId:H=void 0}=e,{modalOpen:ve=!1}=e,fe=!1;const Ie=dt();Ge(i,Ie,Z=>t(10,W=Z));const Me=li(),Ce=Mt();Ge(i,Ce,Z=>t(37,A=Z));let _e=new Set,We=0;function N(Z){if(v==null||!o)return;const ze={row_ids:[v],label_name:Z};_e.add(Z),t(12,_e),t(33,k),t(8,R),G.mutate([l,n,ze],{onSuccess:Ue=>{if(Ue===1)return;const $e=ze.row_ids!=null?`Document id: ${ze.row_ids}`:`${Ue.toLocaleString()} rows labeled`;Me.addNotification({kind:"success",title:`Added label "${ze.label_name}"`,message:$e})}})}function ge(Z){if(v==null||!o)return;const ze={label_name:Z,row_ids:[v]};_e.add(Z),t(12,_e),t(33,k),t(8,R),X.mutate([l,n,ze],{onSuccess:Ue=>{Ue!==1&&Me.addNotification({kind:"success",title:`Removed label "${ze.label_name}"`,message:`Document id: ${v}`})}})}function q(Z){if(!(r!=="single_item"||ve))if(Z.code==="Delete"||Z.code==="Backspace")t(11,fe=!0);else for(const ze of Object.keys(V))V[ze]===Z.code&&(T.includes(ze)?ge(ze):N(ze))}const we=Z=>{T.includes(Z)?ge(Z):N(Z)},Ke=()=>ye!=null?ye("previous"):null,Fe=()=>ye!=null?ye("next"):null;function Ee(Z){fe=Z,t(11,fe)}const re=()=>H!=null?Ie.setRowId(H):null,Re=()=>H!=null?Ie.setRowId(H):null;function je(){We=this.clientHeight,t(13,We)}return i.$$set=Z=>{"rowId"in Z&&t(0,v=Z.rowId),"mediaFields"in Z&&t(1,y=Z.mediaFields),"highlightedFields"in Z&&t(2,K=Z.highlightedFields),"index"in Z&&t(3,Q=Z.index),"totalNumRows"in Z&&t(4,ke=Z.totalNumRows),"updateSequentialRowId"in Z&&t(5,ye=Z.updateSequentialRowId),"nextRowId"in Z&&t(6,H=Z.nextRowId),"modalOpen"in Z&&t(29,ve=Z.modalOpen)},i.$$.update=()=>{var Z,ze,Ue,$e,lt;i.$$.dirty[0]&1024&&t(31,l=W.namespace),i.$$.dirty[0]&1024&&t(30,n=W.datasetName),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&P(t(23,a=Xl(l,n))),i.$$.dirty[1]&16&&(r=((ze=(Z=S.data)==null?void 0:Z.ui)==null?void 0:ze.view_type)||"single_item"),i.$$.dirty[1]&64&&t(32,o=(Ue=A.data)==null?void 0:Ue.access.dataset.edit_labels),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&J(t(22,s=Vt(l,n))),i.$$.dirty[0]&1073742848|i.$$.dirty[1]&1&&Pe(t(21,u=zi(l,n,Li(W)))),i.$$.dirty[1]&32&&be(t(20,f=F.data!=null?Ql(F.data):null)),i.$$.dirty[0]&1024&&t(34,d=Ni(W)),i.$$.dirty[0]&1073742337|i.$$.dirty[1]&9&&L(t(19,_=v!=null&&ue.data!=null&&!ue.isFetching?Bi(l,n,v,d,ue.data.schema):null)),i.$$.dirty[0]&256&&t(7,g=R!=null&&!R.isFetching?R==null?void 0:R.data:null),i.$$.dirty[0]&128&&t(14,T=g!=null?Hi(g):[]),i.$$.dirty[1]&2&&t(18,B=!o),i.$$.dirty[1]&32&&t(17,z=F.data&&Wl(F.data)),i.$$.dirty[1]&32&&C(t(16,O=F.data!=null?Zl(F.data):null)),i.$$.dirty[0]&256&&t(33,k=R==null?void 0:R.isStale),i.$$.dirty[1]&4&&(k||t(12,_e=new Set)),i.$$.dirty[1]&16&&t(15,V=((lt=($e=S.data)==null?void 0:$e.ui)==null?void 0:lt.label_to_keycode)||{})},[v,y,K,Q,ke,ye,H,g,R,ue,W,fe,_e,We,T,V,O,z,B,_,f,u,s,a,Ie,Ce,N,ge,q,ve,n,l,o,k,d,S,F,A,we,Ke,Fe,Ee,re,Re,je]}class ca extends Ne{constructor(e){super(),Be(this,e,Bs,Ns,He,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6,modalOpen:29},null,[-1,-1])}}function Sl(i){let e,t,l;var n=i[2];function a(r){return{}}return n&&(t=ct(n,a())),{c(){e=E("div"),t&&se(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);t&&me(t.$$.fragment,o),o.forEach(c),this.h()},h(){b(e,"class","mr-2")},m(r,o){D(r,e,o),t&&ae(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Ve();const s=t;w(s.$$.fragment,1,0,()=>{oe(s,1)}),Te()}n?(t=ct(n,a()),se(t.$$.fragment),p(t.$$.fragment,1),ae(t,e,null)):t=null}},i(r){l||(t&&p(t.$$.fragment,r),l=!0)},o(r){t&&w(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&oe(t)}}}function Hs(i){let e,t,l,n,a,r,o,s,u=i[2]!=null&&Sl(i);return{c(){e=E("button"),u&&u.c(),t=ce(),l=E("div"),n=le(i[1]),this.h()},l(f){e=M(f,"BUTTON",{class:!0});var d=m(e);u&&u.l(d),t=de(d),l=M(d,"DIV",{class:!0});var _=m(l);n=ie(_,i[1]),_.forEach(c),d.forEach(c),this.h()},h(){b(l,"class","text-sm"),b(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),j(e,"active",i[0])},m(f,d){D(f,e,d),u&&u.m(e,null),h(e,t),h(e,l),h(l,n),r=!0,o||(s=[Qe(e,"click",i[4]),Ye(a=Ze.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&p(u,1)):(u=Sl(f),u.c(),p(u,1),u.m(e,t)):u&&(Ve(),w(u,1,1,()=>{u=null}),Te()),(!r||d&2)&&Oe(n,f[1]),a&&tt(a.update)&&d&8&&a.update.call(null,{text:f[3]}),(!r||d&1)&&j(e,"active",f[0])},i(f){r||(p(u),r=!0)},o(f){w(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,nt(s)}}}function Fs(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:a=void 0}=e,{tooltip:r=void 0}=e;function o(s){Ul.call(this,i,s)}return i.$$set=s=>{"active"in s&&t(0,l=s.active),"label"in s&&t(1,n=s.label),"icon"in s&&t(2,a=s.icon),"tooltip"in s&&t(3,r=s.tooltip)},[l,n,a,r,o]}class Al extends Ne{constructor(e){super(),Be(this,e,Fs,Hs,He,{active:0,label:1,icon:2,tooltip:3})}}function Rl(i,e,t){const l=i.slice();return l[26]=e[t],l}function zl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function At(i){const e=i.slice(),t=xl(e[30]);e[33]=t;const l=$l(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const a=e[32]===e[0].ui.media_paths.length-1;return e[36]=a,e}function js(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V,S,I,P,X,he,be,G,te,C,R,U,L;const F=[Us,Ys],ee=[];function J(W,A){var v;return((v=W[0].ui)==null?void 0:v.media_paths)!=null&&W[1]!=null?0:1}u=J(i),f=ee[u]=F[u](i),O=new Al({props:{icon:jn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),O.$on("click",i[22]),V=new Al({props:{icon:zn,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),V.$on("click",i[23]);const ue=[Ws,Qs],ne=[];function Pe(W,A){return W[6].isFetching?0:1}return R=Pe(i),U=ne[R]=ue[R](i),{c(){e=E("div"),t=E("section"),l=E("div"),n=le("Media fields"),a=ce(),r=E("div"),o=le(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),s=ce(),f.c(),d=ce(),_=E("section"),g=E("div"),T=le("View type"),B=ce(),z=E("div"),se(O.$$.fragment),k=ce(),se(V.$$.fragment),S=ce(),I=E("section"),P=E("div"),X=le("Preferred embedding"),he=ce(),be=E("div"),G=le("This embedding will be used by default when indexing and querying the data."),te=ce(),C=E("div"),U.c(),this.h()},l(W){e=M(W,"DIV",{class:!0});var A=m(e);t=M(A,"SECTION",{class:!0});var v=m(t);l=M(v,"DIV",{class:!0});var y=m(l);n=ie(y,"Media fields"),y.forEach(c),a=de(v),r=M(v,"DIV",{class:!0});var K=m(r);o=ie(K,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),K.forEach(c),s=de(v),f.l(v),v.forEach(c),d=de(A),_=M(A,"SECTION",{class:!0});var Q=m(_);g=M(Q,"DIV",{class:!0});var ke=m(g);T=ie(ke,"View type"),ke.forEach(c),B=de(Q),z=M(Q,"DIV",{class:!0});var ye=m(z);me(O.$$.fragment,ye),k=de(ye),me(V.$$.fragment,ye),ye.forEach(c),Q.forEach(c),S=de(A),I=M(A,"SECTION",{class:!0});var H=m(I);P=M(H,"DIV",{class:!0});var ve=m(P);X=ie(ve,"Preferred embedding"),ve.forEach(c),he=de(H),be=M(H,"DIV",{class:!0});var fe=m(be);G=ie(fe,"This embedding will be used by default when indexing and querying the data."),fe.forEach(c),te=de(H),C=M(H,"DIV",{class:!0});var Ie=m(C);U.l(Ie),Ie.forEach(c),H.forEach(c),A.forEach(c),this.h()},h(){b(l,"class","text-lg text-gray-700"),b(r,"class","text-sm text-gray-500"),b(t,"class","flex flex-col gap-y-4"),b(g,"class","text-lg text-gray-700"),b(z,"class","flex gap-x-2"),b(_,"class","flex flex-col gap-y-1"),b(P,"class","text-lg text-gray-700"),b(be,"class","text-sm text-gray-500"),b(C,"class","w-60"),b(I,"class","flex flex-col gap-y-1"),b(e,"class","flex flex-col gap-y-6")},m(W,A){D(W,e,A),h(e,t),h(t,l),h(l,n),h(t,a),h(t,r),h(r,o),h(t,s),ee[u].m(t,null),h(e,d),h(e,_),h(_,g),h(g,T),h(_,B),h(_,z),ae(O,z,null),h(z,k),ae(V,z,null),h(e,S),h(e,I),h(I,P),h(P,X),h(I,he),h(I,be),h(be,G),h(I,te),h(I,C),ne[R].m(C,null),L=!0},p(W,A){let v=u;u=J(W),u===v?ee[u].p(W,A):(Ve(),w(ee[v],1,1,()=>{ee[v]=null}),Te(),f=ee[u],f?f.p(W,A):(f=ee[u]=F[u](W),f.c()),p(f,1),f.m(t,null));const y={};A[0]&16&&(y.active=W[4]=="scroll"),O.$set(y);const K={};A[0]&16&&(K.active=W[4]=="single_item"),V.$set(K);let Q=R;R=Pe(W),R===Q?ne[R].p(W,A):(Ve(),w(ne[Q],1,1,()=>{ne[Q]=null}),Te(),U=ne[R],U?U.p(W,A):(U=ne[R]=ue[R](W),U.c()),p(U,1),U.m(C,null))},i(W){L||(p(f),p(O.$$.fragment,W),p(V.$$.fragment,W),p(U),L=!0)},o(W){w(f),w(O.$$.fragment,W),w(V.$$.fragment,W),w(U),L=!1},d(W){W&&c(e),ee[u].d(),oe(O),oe(V),ne[R].d()}}}function qs(i){let e,t;return e=new ht({}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:Y,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Ys(i){let e,t;return e=new ei({}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:Y,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Us(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,T,B,z,O,k,V=i[1]&&Ll(i),S=i[3]&&Fl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=ce(),r=E("div"),o=le("Field"),s=ce(),u=E("div"),f=le("Markdown"),d=ce(),_=E("div"),g=ce(),V&&V.c(),T=ce(),B=E("div"),S&&S.c(),this.h()},l(I){e=M(I,"DIV",{class:!0});var P=m(e);t=M(P,"DIV",{class:!0});var X=m(t);l=M(X,"DIV",{class:!0});var he=m(l);n=M(he,"DIV",{class:!0}),m(n).forEach(c),a=de(he),r=M(he,"DIV",{class:!0});var be=m(r);o=ie(be,"Field"),be.forEach(c),s=de(he),u=M(he,"DIV",{class:!0});var G=m(u);f=ie(G,"Markdown"),G.forEach(c),d=de(he),_=M(he,"DIV",{class:!0}),m(_).forEach(c),he.forEach(c),X.forEach(c),g=de(P),V&&V.l(P),P.forEach(c),T=de(I),B=M(I,"DIV",{class:!0});var te=m(B);S&&S.l(te),te.forEach(c),this.h()},h(){b(n,"class","table-cell"),b(r,"class","table-cell"),b(u,"class","table-cell"),b(_,"class","table-cell"),b(l,"class","table-row text-xs text-neutral-600"),b(t,"class","table-header-group items-center"),b(e,"class","table border-spacing-1 gap-y-2"),b(B,"class","h-12")},m(I,P){D(I,e,P),h(e,t),h(t,l),h(l,n),h(l,a),h(l,r),h(r,o),h(l,s),h(l,u),h(u,f),h(l,d),h(l,_),h(e,g),V&&V.m(e,null),D(I,T,P),D(I,B,P),S&&S.m(B,null),z=!0,O||(k=Ye(Ze.call(null,u,{text:"Render media field with a markdown renderer."})),O=!0)},p(I,P){I[1]?V?(V.p(I,P),P[0]&2&&p(V,1)):(V=Ll(I),V.c(),p(V,1),V.m(e,null)):V&&(Ve(),w(V,1,1,()=>{V=null}),Te()),I[3]?S?(S.p(I,P),P[0]&8&&p(S,1)):(S=Fl(I),S.c(),p(S,1),S.m(B,null)):S&&(Ve(),w(S,1,1,()=>{S=null}),Te())},i(I){z||(p(V),p(S),z=!0)},o(I){w(V),w(S),z=!1},d(I){I&&c(e),V&&V.d(),I&&c(T),I&&c(B),S&&S.d(),O=!1,k()}}}function Ll(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=Hl(zl(i,l,r));const a=r=>w(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(c),this.h()},h(){b(e,"class","table-row-group")},m(r,o){D(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let s;for(s=0;s<l.length;s+=1){const u=zl(r,l,s);n[s]?(n[s].p(u,o),p(n[s],1)):(n[s]=Hl(u),n[s].c(),p(n[s],1),n[s].m(e,null))}for(Ve(),s=l.length;s<n.length;s+=1)a(s);Te()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)p(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)w(n[o]);t=!1},d(r){r&&c(e),Et(n,r)}}}function Nl(i){let e,t,l,n,a,r=i[30].path.indexOf(Rt)>=0,o,s,u=ft(i[30].path)+"",f,d,_,g,T,B,z,O,k,V,S,I,P,X,he,be,G,te,C,R,U,L,F;const ee=[Zs,Ks],J=[];function ue(y,K){return y[30].dtype&&y[30].dtype.type!=="map"?0:1}l=ue(i),n=J[l]=ee[l](i);let ne=r&&Bl();function Pe(...y){return i[17](i[30],...y)}g=new Yi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),g.$on("toggle",Pe),V=new cn({props:{size:16}});function W(){return i[18](i[30])}X=new on({props:{size:16}});function A(){return i[19](i[30])}C=new Ui({props:{size:16}});function v(){return i[20](i[30])}return{c(){e=E("div"),t=E("div"),n.c(),a=ce(),ne&&ne.c(),o=ce(),s=E("div"),f=le(u),d=ce(),_=E("div"),se(g.$$.fragment),T=ce(),B=E("div"),z=E("div"),O=E("div"),k=E("button"),se(V.$$.fragment),S=ce(),I=E("div"),P=E("button"),se(X.$$.fragment),be=ce(),G=E("div"),te=E("button"),se(C.$$.fragment),R=ce(),this.h()},l(y){e=M(y,"DIV",{class:!0});var K=m(e);t=M(K,"DIV",{class:!0});var Q=m(t);n.l(Q),a=de(Q),ne&&ne.l(Q),Q.forEach(c),o=de(K),s=M(K,"DIV",{class:!0});var ke=m(s);f=ie(ke,u),ke.forEach(c),d=de(K),_=M(K,"DIV",{class:!0});var ye=m(_);me(g.$$.fragment,ye),ye.forEach(c),T=de(K),B=M(K,"DIV",{class:!0});var H=m(B);z=M(H,"DIV",{class:!0});var ve=m(z);O=M(ve,"DIV",{class:!0});var fe=m(O);k=M(fe,"BUTTON",{});var Ie=m(k);me(V.$$.fragment,Ie),Ie.forEach(c),fe.forEach(c),S=de(ve),I=M(ve,"DIV",{class:!0});var Me=m(I);P=M(Me,"BUTTON",{});var Ce=m(P);me(X.$$.fragment,Ce),Ce.forEach(c),Me.forEach(c),be=de(ve),G=M(ve,"DIV",{class:!0});var _e=m(G);te=M(_e,"BUTTON",{});var We=m(te);me(C.$$.fragment,We),We.forEach(c),_e.forEach(c),ve.forEach(c),H.forEach(c),R=de(K),K.forEach(c),this.h()},h(){b(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),j(t,"bg-blue-200",i[33]),j(t,"bg-teal-100",i[34]),b(s,"class","table-cell w-40 align-middle"),b(_,"class","table-cell w-8 align-middle"),k.disabled=i[35],j(k,"opacity-50",i[35]),b(O,"class","ml-auto align-middle"),P.disabled=he=i[36],j(P,"opacity-50",i[36]),b(I,"class","align-middle"),b(G,"class","align-middle"),b(z,"class","flex flex-row gap-x-1"),b(B,"class","table-cell"),b(e,"class","table-row h-10")},m(y,K){D(y,e,K),h(e,t),J[l].m(t,null),h(t,a),ne&&ne.m(t,null),h(e,o),h(e,s),h(s,f),h(e,d),h(e,_),ae(g,_,null),h(e,T),h(e,B),h(B,z),h(z,O),h(O,k),ae(V,k,null),h(z,S),h(z,I),h(I,P),ae(X,P,null),h(z,be),h(z,G),h(G,te),ae(C,te,null),h(e,R),U=!0,L||(F=[Qe(k,"click",W),Ye(Ze.call(null,O,{text:"Move media field up"})),Qe(P,"click",A),Ye(Ze.call(null,I,{text:"Move media field down"})),Qe(te,"click",v),Ye(Ze.call(null,G,{text:"Remove media field"}))],L=!0)},p(y,K){i=y;let Q=l;l=ue(i),l===Q?J[l].p(i,K):(Ve(),w(J[Q],1,1,()=>{J[Q]=null}),Te(),n=J[l],n?n.p(i,K):(n=J[l]=ee[l](i),n.c()),p(n,1),n.m(t,a)),K[0]&3&&(r=i[30].path.indexOf(Rt)>=0),r?ne||(ne=Bl(),ne.c(),ne.m(t,null)):ne&&(ne.d(1),ne=null),(!U||K[0]&3)&&j(t,"bg-blue-200",i[33]),(!U||K[0]&3)&&j(t,"bg-teal-100",i[34]),(!U||K[0]&3)&&u!==(u=ft(i[30].path)+"")&&Oe(f,u);const ke={};K[0]&3&&(ke.toggled=i[12](i[30])),g.$set(ke),(!U||K[0]&1&&he!==(he=i[36]))&&(P.disabled=he),(!U||K[0]&1)&&j(P,"opacity-50",i[36])},i(y){U||(p(n),p(g.$$.fragment,y),p(V.$$.fragment,y),p(X.$$.fragment,y),p(C.$$.fragment,y),U=!0)},o(y){w(n),w(g.$$.fragment,y),w(V.$$.fragment,y),w(X.$$.fragment,y),w(C.$$.fragment,y),U=!1},d(y){y&&c(e),J[l].d(),ne&&ne.d(),oe(g),oe(V),oe(X),oe(C),L=!1,nt(F)}}}function Ks(i){let e,t="{}",l,n;return{c(){e=E("span"),l=le(t),this.h()},l(a){e=M(a,"SPAN",{class:!0,title:!0});var r=m(e);l=ie(r,t),r.forEach(c),this.h()},h(){var a;b(e,"class","font-mono"),b(e,"title",n=(a=i[30].dtype)==null?void 0:a.type)},m(a,r){D(a,e,r),h(e,l)},p(a,r){var o;r[0]&3&&n!==(n=(o=a[30].dtype)==null?void 0:o.type)&&b(e,"title",n)},i:Y,o:Y,d(a){a&&c(e)}}}function Zs(i){let e,t,l;var n=Ft[i[30].dtype.type];function a(r){return{props:{title:r[30].dtype.type}}}return n&&(e=ct(n,a(i))),{c(){e&&se(e.$$.fragment),t=xe()},l(r){e&&me(e.$$.fragment,r),t=xe()},m(r,o){e&&ae(e,r,o),D(r,t,o),l=!0},p(r,o){const s={};if(o[0]&3&&(s.title=r[30].dtype.type),o[0]&3&&n!==(n=Ft[r[30].dtype.type])){if(e){Ve();const u=e;w(u.$$.fragment,1,0,()=>{oe(u,1)}),Te()}n?(e=ct(n,a(r)),se(e.$$.fragment),p(e.$$.fragment,1),ae(e,t.parentNode,t)):e=null}else n&&e.$set(s)},i(r){l||(e&&p(e.$$.fragment,r),l=!0)},o(r){e&&w(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&oe(e,r)}}}function Bl(i){let e;return{c(){e=le("[]")},l(t){e=ie(t,"[]")},m(t,l){D(t,e,l)},d(t){t&&c(e)}}}function Hl(i){let e,t,l=i[30]&&Nl(At(i));return{c(){l&&l.c(),e=xe()},l(n){l&&l.l(n),e=xe()},m(n,a){l&&l.m(n,a),D(n,e,a),t=!0},p(n,a){n[30]?l?(l.p(At(n),a),a[0]&3&&p(l,1)):(l=Nl(At(n)),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(Ve(),w(l,1,1,()=>{l=null}),Te())},i(n){t||(p(l),t=!0)},o(n){w(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function Fl(i){let e,t;return e=new Lt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:rn,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const a={};n[0]&8&&(a.disabled=l[3].length===0),n[0]&8&&(a.items=l[3]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Qs(i){var l;let e,t;return e=new qi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[Gs]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){se(e.$$.fragment)},l(n){me(e.$$.fragment,n)},m(n,a){ae(e,n,a),t=!0},p(n,a){var o;const r={};a[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),a[0]&64|a[1]&64&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){oe(e,n)}}}function Ws(i){let e,t;return e=new ei({}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p:Y,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function jl(i){let e,t;return e=new ti({props:{value:i[26].name}}),{c(){se(e.$$.fragment)},l(l){me(e.$$.fragment,l)},m(l,n){ae(e,l,n),t=!0},p(l,n){const a={};n[0]&64&&(a.value=l[26].name),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){oe(e,l)}}}function Gs(i){let e,t,l,n;e=new ti({props:{value:void 0,text:"None"}});let a=i[6].data||[],r=[];for(let s=0;s<a.length;s+=1)r[s]=jl(Rl(i,a,s));const o=s=>w(r[s],1,1,()=>{r[s]=null});return{c(){se(e.$$.fragment),t=ce();for(let s=0;s<r.length;s+=1)r[s].c();l=xe()},l(s){me(e.$$.fragment,s),t=de(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=xe()},m(s,u){ae(e,s,u),D(s,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);D(s,l,u),n=!0},p(s,u){if(u[0]&64){a=s[6].data||[];let f;for(f=0;f<a.length;f+=1){const d=Rl(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=jl(d),r[f].c(),p(r[f],1),r[f].m(l.parentNode,l))}for(Ve(),f=a.length;f<r.length;f+=1)o(f);Te()}},i(s){if(!n){p(e.$$.fragment,s);for(let u=0;u<a.length;u+=1)p(r[u]);n=!0}},o(s){w(e.$$.fragment,s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);n=!1},d(s){oe(e,s),s&&c(t),Et(r,s),s&&c(l)}}}function Xs(i){let e,t,l,n;const a=[qs,js],r=[];function o(s,u){return s[0]==null||s[2].data==null?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=xe()},l(s){t.l(s),l=xe()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Ve(),w(r[f],1,1,()=>{r[f]=null}),Te(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){w(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Js(i,e,t){let l,n,a,r,o,s=Y,u=()=>(s(),s=Je(l,L=>t(2,o=L)),l),f;i.$$.on_destroy.push(()=>s());let{namespace:d}=e,{datasetName:_}=e,{newSettings:g}=e;const T=Fi();Ge(i,T,L=>t(6,f=L));function B(L){const F=L.detail.id;g.ui==null&&t(0,g.ui={},g),g.ui.media_paths==null&&t(0,g.ui.media_paths=[],g),g.ui.media_paths.find(J=>et(J,F.path))==null&&t(0,g.ui.media_paths=[...g.ui.media_paths,F.path],g)}function z(L){var F;((F=g.ui)==null?void 0:F.media_paths)!=null&&t(0,g.ui.media_paths=g.ui.media_paths.filter(ee=>!et(ee,L.path)),g)}function O(L){var ee;if(((ee=g.ui)==null?void 0:ee.media_paths)==null)return;const F=g.ui.media_paths.findIndex(J=>et(J,L.path));F<=0||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,F-1),L.path,g.ui.media_paths[F-1],...g.ui.media_paths.slice(F+1)],g)}function k(L){var ee;if(((ee=g.ui)==null?void 0:ee.media_paths)==null)return;const F=g.ui.media_paths.findIndex(J=>et(J,L.path));F<0||F>=g.ui.media_paths.length-1||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,F),g.ui.media_paths[F+1],L.path,...g.ui.media_paths.slice(F+2)],g)}function V(L){var F,ee;return((ee=(F=g.ui)==null?void 0:F.markdown_paths)==null?void 0:ee.find(J=>et(J,L.path)))!=null}function S(L,F){L.detail.toggled?I(F):P(F)}function I(L){g.ui==null&&t(0,g.ui={},g),g.ui.markdown_paths==null&&t(0,g.ui.markdown_paths=[],g),g.ui.markdown_paths.find(ee=>et(ee,L.path))==null&&t(0,g.ui.markdown_paths=[...g.ui.markdown_paths,L.path],g)}function P(L){g.ui!=null&&g.ui.markdown_paths!=null&&t(0,g.ui.markdown_paths=g.ui.markdown_paths.filter(F=>!et(F,L.path)),g)}function X(L){const F=L.target.value;t(0,g.preferred_embedding=F===""?void 0:F,g)}const he=(L,F)=>S(F,L),be=L=>O(L),G=L=>k(L),te=L=>z(L),C=(L,F)=>et(F.path,L),R=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="scroll",g)},U=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="single_item",g)};return i.$$set=L=>{"namespace"in L&&t(15,d=L.namespace),"datasetName"in L&&t(16,_=L.datasetName),"newSettings"in L&&t(0,g=L.newSettings)},i.$$.update=()=>{var L;i.$$.dirty[0]&98304&&u(t(5,l=Vt(d,_))),i.$$.dirty[0]&1&&t(4,n=((L=g==null?void 0:g.ui)==null?void 0:L.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,a=o.data!=null?Jl(o.data).filter(F=>{var ee;return((ee=F.dtype)==null?void 0:ee.type)==="string"&&!et(F.path,[ji])&&!xl(F)&&!$l(F)}):null),i.$$.dirty[0]&3&&t(3,r=a!=null?a.filter(F=>{var ee,J;return!((J=(ee=g.ui)==null?void 0:ee.media_paths)!=null&&J.includes(F.path))}).map(F=>{const ee=ft(F.path);return{id:F,text:ee}}):null)},[g,a,o,r,n,l,f,T,B,z,O,k,V,S,X,d,_,he,be,G,te,C,R,U]}class da extends Ne{constructor(e){super(),Be(this,e,Js,Xs,He,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{rn as A,bn as C,Gn as D,hr as E,ca as R,ii as T,wn as a,Ps as b,da as c};
