"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[68],{3744:(e,t)=>{t.Z=(e,t)=>{const o=e.__vccOpts||e;for(const[e,r]of t)o[e]=r;return o}},6257:(e,t,o)=>{o.r(t),o.d(t,{default:()=>k});var r=o(6252),n=o(9963),s=o(3577);const i={class:"card"},a={class:"card-body"},l=(0,r._)("h1",null,"Search Notifications",-1),c=(0,r._)("hr",null,null,-1),h={class:"form-row"},u={class:"form-group"},d=(0,r._)("label",null,"Search:",-1),f=(0,r._)("hr",null,null,-1),m={key:0,class:"list-group"},g=["href"],_=(0,r._)("br",null,null,-1),w={class:"small-text"},p={key:1,class:"alert alert-warning"},y=(0,r._)("hr",null,null,-1),M={class:"row submit-row"},v={class:"col-md-12"},S=["href"];var T=o(3058),E=o(9113);const b={name:"SearchNotifications",props:{notificationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},mixins:[T.Z,E.Z],data(){return{localNotificationResults:this.notificationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const e=new FormData;e.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/notification/data/`,e).then((e=>{this.localNotificationResults=e.data})).catch((e=>{this.showErrorModal(e,"Search Notification","")}))}},watch:{searchModel(){this.searchTrigger({return_function:this.getSearchResults,searchTimeout:this.searchTimeout})}}},k=(0,o(3744).Z)(b,[["render",function(e,t,o,T,E,b){return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",a,[l,c,(0,r.kq)(" SEARCH FIELD"),(0,r._)("div",h,[(0,r._)("div",u,[d,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":t[0]||(t[0]=e=>E.searchModel=e),maxlength:"250"},null,512),[[n.vModelText,E.searchModel]])])]),f,(0,r.kq)(" Search Results "),E.localNotificationResults.length>0?((0,r.wg)(),(0,r.iD)("div",m,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(E.localNotificationResults,(e=>((0,r.wg)(),(0,r.iD)("a",{class:"list-group-item list-group-item-action",key:e.pk,href:`/notification_information/${e.pk}/`},[(0,r._)("strong",null,(0,s.toDisplayString)(e.fields.notification_header),1),_,(0,r._)("p",w,(0,s.toDisplayString)(e.fields.notification_message),1)],8,g)))),128))])):((0,r.wg)(),(0,r.iD)("div",p," Sorry, there are no notifications ")),y,(0,r._)("div",M,[(0,r._)("div",v,[(0,r._)("a",{href:`${o.rootUrl}new_notification/`,class:"btn btn-primary save-changes"}," Add new Notification ",8,S)])])])])}]])},3058:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(3138);const n={methods:{showErrorModal(e,t,o){const n=document.getElementById("loadingModal");if(null===n)return;new r.u_(n).hide();const s=document.getElementById("errorModalContent");if(void 0===s)return;if(s.innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${t}-${o}<hr>${e}`,null===document.getElementById("errorModal"))return;const i=new r.u_(i);i.show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new r.u_(document.getElementById("errorModal")).show()}}}},9113:(e,t,o)=>{o.d(t,{Z:()=>r});const r={methods:{searchTrigger(e){""!==e.searchTimeout&&clearTimeout(e.searchTimeout),void 0===e.search?this.searchUndefined(e):this.searchDefined(e)},searchDefined(e){e.search.length>=3&&(e.searchTimeout=setTimeout(e.return_function,500,e.search,e.loading))},searchUndefined(e){e.searchTimeout=setTimeout(e.return_function,500)}}}}}]);