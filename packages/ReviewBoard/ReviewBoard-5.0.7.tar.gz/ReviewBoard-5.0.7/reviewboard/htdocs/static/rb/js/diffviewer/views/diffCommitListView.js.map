{"version":3,"file":"diffCommitListView.js","names":["itemTemplate","_","template","headerTemplate","tableTemplate","RB","DiffCommitListView","Backbone","View","extend","events","initialize","options","listenTo","model","get","render","_showInterCommitDiffControls","showInterCommitDiffControls","_$baseSelectors","$","_$tipSelectors","commits","isInterdiff","commonContext","showExpandCollapse","some","commit","hasSummary","showHistorySymbol","$content","$table","find","toggleClass","append","authorText","gettext","firstText","lastText","summaryText","$tbody","expandText","each","historyDiffEntry","entryType","key","rowClass","CommitHistoryDiffEntry","ADDED","REMOVED","UNMODIFIED","MODIFIED","console","error","baseCommitID","tipCommitID","lastIndex","size","baseIndex","indexOf","getChild","tipIndex","i","baseSelected","tipSelected","baseDisabled","tipDisabled","$el","empty","_expandCommitMessage","e","preventDefault","stopPropagation","_expandOrCollapse","currentTarget","_collapseCommitMessage","$link","expand","$icon","commitID","data","newText","closest","text","attr","_onBaseChanged","$target","target","parseInt","val","index","set","getParent","id","slice","prop","_onTipChanged"],"sources":["../../../../../../static/rb/js/diffviewer/views/diffCommitListView.es6.js"],"sourcesContent":["/*\n * The templates should be kept in sync with:\n *\n * - templates/reviews/changedesc_commit_list.html\n * - templates/reviews/commit_list_field.html\n *\n * so that they render items identically.\n */\n(function() {\n\n\nconst itemTemplate = _.template(dedent`\n    <tr<% if (rowClass) { %> class=\"<%- rowClass %>\"<% } %>>\n     <% if (showHistorySymbol) { %>\n      <td class=\"marker\">\n       <%- historyDiffEntry.getSymbol() %>\n      </td>\n     <% } else if (showInterCommitDiffControls) { %>\n      <td class=\"select-base\">\n       <input type=\"radio\"\n              class=\"base-commit-selector\"\n              name=\"base-commit-id\"\n              <% if (baseSelected) { %>checked<% } %>\n              <% if (baseDisabled) { %>disabled<% } %>\n              value=\"<%- commit.id %>\">\n      </td>\n      <td class=\"select-tip\">\n       <input type=\"radio\"\n              class=\"tip-commit-selector\"\n              name=\"tip-commit-id\"\n              <% if (tipSelected) { %>checked<% } %>\n              <% if (tipDisabled) { %>disabled<% } %>\n              value=\"<%- commit.id %>\">\n      </td>\n     <% } %>\n     <% if (showExpandCollapse) { %>\n      <td>\n       <% if (commit && commit.hasSummary()) { %>\n        <a href=\"#\"\n           class=\"expand-commit-message\"\n           data-commit-id=\"<%- commit.id %>\"\n           aria-role=\"button\">\n         <span class=\"fa fa-plus\" title=\"<%- expandText %>\"></span>\n        </a>\n       <% } %>\n      </td>\n     <% } %>\n     <td<% if (showHistorySymbol) { %> class=\"value\"<% } %>>\n      <% if (commit !== null) { %>\n       <pre><%- commit.get('summary') %></pre>\n      <% } %>\n     </td>\n     <td<% if (showHistorySymbol) { %> class=\"value\"<% } %>>\n      <% if (commit !== null) { %>\n       <%- commit.get('authorName') %>\n      <% } %>\n     </td>\n    </tr>\n`);\n\nconst headerTemplate = _.template(dedent`\n    <thead>\n     <tr>\n      <% if (showHistorySymbol) { %>\n       <th></th>\n      <% } else if (showInterCommitDiffControls) { %>\n       <th><%- firstText %></th>\n       <th><%- lastText %></th>\n      <% } %>\n      <th<% if (showExpandCollapse) { %> colspan=\"2\"<% } %>>\n       <%- summaryText %>\n       </th>\n      <th><%- authorText %></th>\n     </tr>\n    </thead>\n`);\n\nconst tableTemplate = _.template(dedent`\n    <form>\n     <table class=\"commit-list\">\n      <colgroup>\n       <% if (showHistorySymbol) { %>\n        <col>\n       <% } else if (showInterCommitDiffControls) { %>\n         <col>\n         <col>\n       <% } %>\n       <% if (showExpandCollapse) { %>\n        <col class=\"expand-collapse-control\">\n       <% } %>\n       <col>\n       <col>\n      </colgroup>\n     </table>\n    </form>\n`);\n\n/**\n * A view for displaying a list of commits and their metadata.\n */\nRB.DiffCommitListView = Backbone.View.extend({\n    events: {\n        'change .base-commit-selector': '_onBaseChanged',\n        'change .tip-commit-selector': '_onTipChanged',\n        'click .collapse-commit-message': '_collapseCommitMessage',\n        'click .expand-commit-message': '_expandCommitMessage',\n    },\n\n    /**\n     * Initialize the view.\n     *\n     * Args:\n     *     options (object):\n     *         Options that control how this view behaves.\n     *\n     * Option Args:\n     *     showInterCommitDiffControls (boolean):\n     *         Whether or not to show interdiff controls.\n     */\n    initialize(options) {\n        this.listenTo(this.model.get('commits'), 'reset', this.render);\n\n        this._showInterCommitDiffControls =\n            !!options.showInterCommitDiffControls;\n\n        this._$baseSelectors = $();\n        this._$tipSelectors = $();\n    },\n\n    /**\n     * Render the view.\n     *\n     * Returns:\n     *     RB.DiffCommitListView:\n     *     This view, for chaining.\n     */\n    render() {\n        const commits = this.model.get('commits');\n        const isInterdiff = this.model.isInterdiff();\n\n        const commonContext = {\n            showExpandCollapse: commits.some(commit => commit.hasSummary()),\n            showHistorySymbol: isInterdiff,\n            showInterCommitDiffControls:\n                this._showInterCommitDiffControls,\n        };\n\n        const $content = $(tableTemplate(commonContext))\n        const $table = $content\n            .find('table')\n            .toggleClass('changed', isInterdiff)\n            .append(headerTemplate(_.extend(\n                {\n                    authorText: gettext('Author'),\n                    firstText: gettext('First'),\n                    lastText: gettext('Last'),\n                    summaryText: gettext('Summary'),\n                },\n                commonContext\n            )));\n\n        const $tbody = $('<tbody />');\n\n        commonContext.expandText = gettext('Expand commit message.');\n\n        if (isInterdiff) {\n            this.model.get('historyDiff').each(historyDiffEntry => {\n                const entryType = historyDiffEntry.get('entryType');\n\n                let key;\n                let rowClass;\n\n                switch (entryType) {\n                    case RB.CommitHistoryDiffEntry.ADDED:\n                        rowClass = 'new-value';\n                        key = 'newCommitID';\n                        break;\n\n                    case RB.CommitHistoryDiffEntry.REMOVED:\n                        rowClass = 'old-value';\n                        key = 'oldCommitID';\n                        break;\n\n                    case RB.CommitHistoryDiffEntry.UNMODIFIED:\n                    case RB.CommitHistoryDiffEntry.MODIFIED:\n                        key = 'newCommitID';\n                        break;\n\n                    default:\n                        console.error('Invalid history entry type: %s',\n                                      entryType);\n                        break;\n                }\n\n                const commit = commits.get(historyDiffEntry.get(key));\n\n                $tbody.append(itemTemplate(_.extend(\n                    {\n                        commit: commit,\n                        historyDiffEntry: historyDiffEntry,\n                        rowClass: rowClass,\n                    },\n                    commonContext\n                )));\n            });\n        } else {\n            commonContext.rowClass = '';\n\n            const baseCommitID = this.model.get('baseCommitID');\n            const tipCommitID = this.model.get('tipCommitID');\n            const lastIndex = commits.size() - 1;\n\n            const baseIndex = (\n                baseCommitID === null\n                ? 0\n                : commits.indexOf(commits.getChild(commits.get(baseCommitID)))\n            );\n\n            const tipIndex = (tipCommitID === null\n                              ? lastIndex\n                              : commits.indexOf(commits.get(tipCommitID)));\n\n            commits.each((commit, i) => {\n                $tbody.append(itemTemplate(_.extend(\n                    {\n                        commit: commit,\n                        baseSelected: i === baseIndex,\n                        tipSelected: i === tipIndex,\n                        baseDisabled: i > tipIndex,\n                        tipDisabled: i < baseIndex,\n                    },\n                    commonContext\n                )));\n            });\n        }\n\n        $table.append($tbody);\n\n        this.$el\n            .empty()\n            .append($content);\n\n        this._$baseSelectors = this.$('.base-commit-selector');\n        this._$tipSelectors = this.$('.tip-commit-selector');\n\n        return this;\n    },\n\n    /**\n     * Handle the expand button being clicked.\n     *\n     * Args:\n     *     e (jQuery.Event):\n     *         The click event.\n     */\n    _expandCommitMessage(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this._expandOrCollapse($(e.currentTarget), true);\n    },\n\n    /**\n     * Handle the collapse button being clicked.\n     *\n     * Args:\n     *     e (jQuery.Event):\n     *         The click event.\n     */\n    _collapseCommitMessage(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this._expandOrCollapse($(e.currentTarget), true);\n    },\n\n    /**\n     * Expand or collapse the commit message on the same row as the link.\n     *\n     * Args:\n     *     $link (jQuery):\n     *         The expand or collapse link that was clicked.\n     *\n     *     expand (boolean):\n     *         Whether we are expanding (``true``) or collapsing (``false``).\n     */\n    _expandOrCollapse($link, expand) {\n        const $icon = $link.find('.fa');\n        const commitID = $link.data('commitId');\n\n        const commit = this.model.get('commits').get(commitID);\n        const newText = commit.get(expand ? 'commitMessage' : 'summary');\n\n        $link.closest('tr')\n            .find('pre')\n            .text(newText);\n\n        $link.attr(\n            'class',\n            expand ? 'collapse-commit-message' : 'expand-commit-message');\n\n        $icon.attr({\n            'class': expand ? 'fa fa-minus' : 'fa fa-plus',\n            'title': expand ? gettext('Collapse commit message.')\n                            : gettext('Expand commit message.'),\n        });\n    },\n\n    /**\n     * Handle the base commit selection changing.\n     *\n     * The view's model will be updated to reflect this change.\n     *\n     * Args:\n     *     e (jQuery.Event):\n     *         The change event.\n     */\n    _onBaseChanged(e) {\n        const $target = $(e.target);\n        const commits = this.model.get('commits');\n        const commit = commits.get(parseInt($target.val(), 10));\n        const index = commits.indexOf(commit);\n\n        this.model.set('baseCommitID',\n                       index === 0\n                       ? null\n                       : commits.getParent(commit).id);\n\n        this._$tipSelectors\n            .slice(0, index)\n            .prop('disabled', true);\n\n        this._$tipSelectors\n            .slice(index)\n            .prop('disabled', false);\n    },\n\n    /**\n     * Handle the tip commit selection changing.\n     *\n     * The view's model will be updated to reflect this change.\n     *\n     * Args:\n     *     e (jQuery.Event):\n     *         The change event.\n     */\n    _onTipChanged(e) {\n        const $target = $(e.target);\n        const commits = this.model.get('commits');\n        const commit = commits.get(parseInt($target.val(), 10));\n        const index = commits.indexOf(commit);\n\n        this.model.set('tipCommitID',\n                       index === commits.size() - 1\n                       ? null\n                       : commit.id);\n\n        this._$baseSelectors\n            .slice(0, index + 1)\n            .prop('disabled', false);\n\n        this._$baseSelectors\n            .slice(index + 1)\n            .prop('disabled', true);\n    },\n});\n\n\n})();\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,YAAW;EAGZ,MAAMA,YAAY,GAAGC,CAAC,CAACC,QAAQ,CAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAEC,CAAC;EAEF,MAAMC,cAAc,GAAGF,CAAC,CAACC,QAAQ,CAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAEC,CAAC;EAEF,MAAME,aAAa,GAAGH,CAAC,CAACC,QAAQ,CAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAEC,CAAC;;EAEF;AACA;AACA;EACAG,EAAE,CAACC,kBAAkB,GAAGC,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAC;IACzCC,MAAM,EAAE;MACJ,8BAA8B,EAAE,gBAAgB;MAChD,6BAA6B,EAAE,eAAe;MAC9C,gCAAgC,EAAE,wBAAwB;MAC1D,8BAA8B,EAAE;IACpC,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACIC,UAAUA,CAACC,OAAO,EAAE;MAChB,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,IAAI,CAACC,MAAM,CAAC;MAE9D,IAAI,CAACC,4BAA4B,GAC7B,CAAC,CAACL,OAAO,CAACM,2BAA2B;MAEzC,IAAI,CAACC,eAAe,GAAGC,CAAC,CAAC,CAAC;MAC1B,IAAI,CAACC,cAAc,GAAGD,CAAC,CAAC,CAAC;IAC7B,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;IACIJ,MAAMA,CAAA,EAAG;MACL,MAAMM,OAA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"}