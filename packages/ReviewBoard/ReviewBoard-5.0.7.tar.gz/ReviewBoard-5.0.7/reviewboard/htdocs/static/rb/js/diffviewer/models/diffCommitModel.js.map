{"version":3,"file":"diffCommitModel.js","names":["MAX_SUMMARY_LEN","RB","DiffCommit","Backbone","Model","extend","defaults","authorName","commitID","commitMessage","parentID","summary","parse","attrs","commit_message","split","trim","length","substr","author_name","commit_id","id","parent_id","hasSummary","get"],"sources":["../../../../../../static/rb/js/diffviewer/models/diffCommitModel.es6.js"],"sourcesContent":["(function() {\n\n\nconst MAX_SUMMARY_LEN = 80;\n\n\n/**\n * A representation of a single commit in a diff.\n *\n * Model Attributes:\n *     authorName (string):\n *         The name of the author of the commit.\n *\n *     commitID (string):\n *         The unique identifier for the commit.\n *\n *     commitMessage (string):\n *         The commit message.\n *\n *     parentID (string):\n *         The unique identifier of the parent commit.\n *\n *     summary (string):\n *         A one-line summary of the commit message.\n */\nRB.DiffCommit = Backbone.Model.extend({\n    defaults: {\n        authorName: null,\n        commitID: null,\n        commitMessage: null,\n        parentID: null,\n        summary: null,\n    },\n\n    /**\n     * Parse a commit.\n     *\n     * Args:\n     *     attrs (object):\n     *         The raw attributes to parse.\n     *\n     * Returns:\n     *     object:\n     *     The parsed attribute-value pairs.\n     */\n    parse(attrs) {\n        let summary = attrs.commit_message.split('\\n', 1)[0].trim();\n\n        if (summary.length > MAX_SUMMARY_LEN) {\n            summary = summary.substr(0, MAX_SUMMARY_LEN - 3) + '...';\n        }\n\n        return {\n            authorName: attrs.author_name,\n            commitID: attrs.commit_id,\n            commitMessage: attrs.commit_message.trim(),\n            id: attrs.id,\n            parentID: attrs.parent_id,\n            summary: summary,\n        };\n    },\n\n    /**\n     * Whether or not the commit message differs from the summary.\n     *\n     * Returns:\n     *     boolean:\n     *     Whether or not the commit message differs from the summary.\n     */\n    hasSummary() {\n        return (this.get('summary') !== this.get('commitMessage'));\n    },\n});\n\n\n})();\n"],"mappings":";;AAAA,CAAC,YAAW;EAGZ,MAAMA,eAAe,GAAG,EAAE;;EAG1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAC,EAAE,CAACC,UAAU,GAAGC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC;IAClCC,QAAQ,EAAE;MACNC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,IAAI;MACdC,aAAa,EAAE,IAAI;MACnBC,QAAQ,EAAE,IAAI;MACdC,OAAO,EAAE;IACb,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACIC,KAAKA,CAACC,KAAK,EAAE;MACT,IAAIF,OAAO,GAAGE,KAAK,CAACC,cAAc,CAACC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAE3D,IAAIL,OAAO,CAACM,MAAM,GAAGjB,eAAe,EAAE;QAClCW,OAAO,GAAGA,OAAO,CAACO,MAAM,CAAC,CAAC,EAAElB,eAAe,GAAG,CAAC,CAAC,GAAG,KAAK;MAC5D;MAEA,OAAO;QACHO,UAAU,EAAEM,KAAK,CAACM,WAAW;QAC7BX,QAAQ,EAAEK,KAAK,CAACO,SAAS;QACzBX,aAAa,EAAEI,KAAK,CAACC,cAAc,CAACE,IAAI,CAAC,CAAC;QAC1CK,EAAE,EAAER,KAAK,CAACQ,EAAE;QACZX,QAAQ,EAAEG,KAAK,CAACS,SAAS;QACzBX,OAAO,EAAEA;MACb,CAAC;IACL,CAAC;IAED;AACJ;AACA;AACA;AACA;AACA;AACA;IACIY,UAAUA,CAAA,EAAG;MACT,OAAQ,IAAI,CAACC,GAAG,CAAC,SAAS,CAAC,KAAK,IAAI,CAACA,GAAG,CAAC,eAAe,CAAC;IAC7D;EACJ,CAAC,CAAC;AAGF,CAAC,EAAE,CAAC"}