(function(){"use strict";RB.Config={};"use strict";RB.Config.ResourceListItem=Djblets.Config.ListItem.extend({defaults:_.defaults({resource:null},Djblets.Config.ListItem.prototype.defaults),syncAttrs:[],initialize(){let resource=this.get("resource");if(resource){this.set(_.pick(resource.attributes,this.syncAttrs))}else{resource=this.createResource(_.extend({id:this.get("id")},_.pick(this.attributes,this.syncAttrs)));this.set("resource",resource)}this.resource=resource;Djblets.Config.ListItem.prototype.initialize.apply(this,arguments);this.listenTo(resource,"request",(...args)=>this.trigger("request",...args));this.listenTo(resource,"sync",(...args)=>this.trigger("sync",...args));this.listenTo(resource,"destroy",this.destroy);this.syncAttrs.forEach(attr=>this.listenTo(resource,`change:${attr}`,(model,value)=>this.set(attr,value)))},createResource(){console.assert(false,"createResource must be implemented")},destroy(options={}){this.stopListening(this.resource);this.trigger("destroy",this,this.collection,options);if(_.isFunction(options.success)){options.success(this,null,options)}}})}).call(this);
