{"version":3,"file":"fileAttachmentModelTests.js","names":["suite","model","beforeEach","RB","FileAttachment","parentObject","BaseResource","describe","it","set","data","toJSON","expect","caption","toBe","isNew","path","id","attributes","undefined","parse","stat","file_attachment","url","filename","review_url","revision","thumbnail","not","downloadURL","reviewURL","thumbnailHTML"],"sources":["../../../../../../../static/rb/js/resources/models/tests/fileAttachmentModelTests.es6.js"],"sourcesContent":["suite('rb/resources/models/FileAttachment', function() {\n    let model;\n\n    beforeEach(function() {\n        model = new RB.FileAttachment({\n            parentObject: new RB.BaseResource({\n                'public': true,\n            }),\n        });\n    });\n\n    describe('toJSON', function() {\n        describe('caption field', function() {\n            it('With value', function() {\n                model.set('caption', 'foo');\n                const data = model.toJSON();\n                expect(data.caption).toBe('foo');\n            });\n        });\n\n        describe('file field', function() {\n            it('With new file attachment', function() {\n                expect(model.isNew()).toBe(true);\n\n                model.set('file', 'abc');\n                const data = model.toJSON();\n                expect(data.path).toBe('abc');\n            });\n\n            it('With existing file attachment', function() {\n                model.id = 123;\n                model.attributes.id = 123;\n                expect(model.isNew()).toBe(false);\n\n                model.set('file', 'abc');\n                const data = model.toJSON();\n                expect(data.path).toBe(undefined);\n            });\n        });\n    });\n\n    describe('parse', function() {\n        it('API payloads', function() {\n            const data = model.parse({\n                stat: 'ok',\n                file_attachment: {\n                    id: 42,\n                    caption: 'caption',\n                    url: 'downloadURL',\n                    filename: 'filename',\n                    review_url: 'reviewURL',\n                    revision: 123,\n                    thumbnail: 'thumbnailHTML',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(42);\n            expect(data.caption).toBe('caption');\n            expect(data.downloadURL).toBe('downloadURL');\n            expect(data.filename).toBe('filename');\n            expect(data.reviewURL).toBe('reviewURL');\n            expect(data.revision).toBe(123);\n            expect(data.thumbnailHTML).toBe('thumbnailHTML');\n        });\n    });\n});\n"],"mappings":"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"}