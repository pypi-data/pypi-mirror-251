{"version":3,"file":"fileAttachmentReviewableModel.js","names":["RB","FileAttachmentReviewable","AbstractReviewable","extend","defaults","_","attachmentRevisionIDs","diffAgainstFileAttachmentID","diffCaption","diffRevision","diffTypeMismatch","fileAttachmentID","fileRevision","filename","numRevisions","prototype","defaultCommentBlockFields","loadSerializedCommentBlock","serializedCommentBlock","parsedData","commentBlockModel","parse","pick","serializedFields","createCommentBlock","get","serializedComments"],"sources":["../../../../../static/rb/js/models/fileAttachmentReviewableModel.es6.js"],"sourcesContent":["/**\n * Provides generic review capabilities for file attachments.\n *\n * Model Attributes:\n *     attachmentRevisionIDs (Array of number):\n *         The revisions of the file attachment.\n *\n *     diffAgainstFileAttachmentID (number):\n *         The ID of the file attachment being diffed against.\n *\n *     diffCaption (string):\n *         The caption of the attachment being diffed against.\n *\n *     diffRevision (number):\n *         The revision of the attachment being diffed against.\n *\n *     diffTypeMismatch (boolean):\n *         Whether the attachments being diffed have different review UI types.\n *\n *     fileAttachmentID (number):\n *         The ID of the file attachment being reviewed.\n *\n *     fileRevision (number):\n *         The revision of the file attachment being reviewed.\n *\n *     filename (string):\n *         The name of the file being reviewed.\n *\n *     numRevision (number):\n *         The total number of revisions for the given attachment.\n *\n * See Also:\n *     :js:class:`RB.AbstractReviewable`:\n *         For attributes defined on the base model.\n */\nRB.FileAttachmentReviewable = RB.AbstractReviewable.extend({\n    defaults: _.defaults({\n        attachmentRevisionIDs: null,\n        diffAgainstFileAttachmentID: null,\n        diffCaption: '',\n        diffRevision: null,\n        diffTypeMismatch: false,\n        fileAttachmentID: null,\n        fileRevision: null,\n        filename: '',\n        numRevisions: null,\n    }, RB.AbstractReviewable.prototype.defaults),\n\n    defaultCommentBlockFields: [\n        'fileAttachmentID',\n        'diffAgainstFileAttachmentID',\n    ],\n\n    /**\n     * Load a serialized comment and add comment blocks for it.\n     *\n     * Args:\n     *     serializedCommentBlock (object):\n     *         The serialized data for the new comment block(s).\n     */\n    loadSerializedCommentBlock(serializedCommentBlock) {\n        const parsedData = this.commentBlockModel.prototype.parse(\n            _.pick(serializedCommentBlock[0],\n                   this.commentBlockModel.prototype.serializedFields));\n\n        this.createCommentBlock(_.extend(\n            {\n                fileAttachmentID: this.get('fileAttachmentID'),\n                diffAgainstFileAttachmentID:\n                    this.get('diffAgainstFileAttachmentID'),\n                serializedComments: serializedCommentBlock,\n            }, parsedData));\n    },\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,wBAAwB,GAAGD,EAAE,CAACE,kBAAkB,CAACC,MAAM,CAAC;EACvDC,QAAQ,EAAEC,CAAC,CAACD,QAAQ,CAAC;IACjBE,qBAAqB,EAAE,IAAI;IAC3BC,2BAA2B,EAAE,IAAI;IACjCC,WAAW,EAAE,EAAE;IACfC,YAAY,EAAE,IAAI;IAClBC,gBAAgB,EAAE,KAAK;IACvBC,gBAAgB,EAAE,IAAI;IACtBC,YAAY,EAAE,IAAI;IAClBC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE;EAClB,CAAC,EAAEd,EAAE,CAACE,kBAAkB,CAACa,SAAS,CAACX,QAAQ,CAAC;EAE5CY,yBAAyB,EAAE,CACvB,kBAAkB,EAClB,6BAA6B,CAChC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,0BAA0BA,CAACC,sBAAsB,EAAE;IAC/C,MAAMC,UAAU,GAAG,IAAI,CAACC,iBAAiB,CAACL,SAAS,CAACM,KAAK,CACrDhB,CAAC,CAACiB,IAAI,CAACJ,sBAAsB,CAAC,CAAC,CAAC,EACzB,IAAI,CAACE,iBAAiB,CAACL,SAAS,CAACQ,gBAAgB,CAAC,CAAC;IAE9D,IAAI,CAACC,kBAAkB,CAACnB,CAAC,CAACF,MAAM,CAC5B;MACIQ,gBAAgB,EAAE,IAAI,CAACc,GAAG,CAAC,kBAAkB,CAAC;MAC9ClB,2BAA2B,EACvB,IAAI,CAACkB,GAAG,CAAC,6BAA6B,CAAC;MAC3CC,kBAAkB,EAAER;IACxB,CAAC,EAAEC,UAAU,CAAC,CAAC;EACvB;AACJ,CAAC,CAAC"}