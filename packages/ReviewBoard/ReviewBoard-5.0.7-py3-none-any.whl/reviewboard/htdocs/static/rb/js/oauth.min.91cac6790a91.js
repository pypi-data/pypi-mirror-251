(function(){"use strict";RB.OAuthClientSecretView=Backbone.View.extend({events:{"click .copyable-text-input-link":"_onCopyClicked","click .regenerate-secret-button":"_onRegenerateClicked"},initialize(options){this._apiURL=options.apiURL},render(){this._$input=this.$("input");this._$regen=this.$(".regenerate-secret-button");return this},_onCopyClicked(e){e.preventDefault();e.stopPropagation();this._$input.focus().select();document.execCommand("copy")},_onRegenerateClicked(e){e.preventDefault();e.stopPropagation();this._$regen.prop("disabled",true);RB.apiCall({url:this._apiURL,method:"PUT",data:{regenerate_client_secret:1},success:rsp=>{this._$input.val(rsp.oauth_app.client_secret);this._$regen.prop("disabled",false)},error:()=>{this._$regen.prop("disabled",false)}})}})}).call(this);
