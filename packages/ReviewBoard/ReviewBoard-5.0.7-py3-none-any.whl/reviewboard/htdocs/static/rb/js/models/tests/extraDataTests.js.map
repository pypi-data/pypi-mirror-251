{"version":3,"file":"extraDataTests.js","names":["suite","model","beforeEach","Resource","Backbone","Model","extend","_","defaults","extraData","initialize","_setupExtraData","RB","ExtraDataMixin","it","callbacks","change","change:extraData","spyOn","on","setExtraData","expect","toHaveBeenCalled","oldExtraData","attributes","toBe","set","foo","toEqual","not"],"sources":["../../../../../../static/rb/js/models/tests/extraDataTests.es6.js"],"sourcesContent":["suite('rb/models/ExtraData', function() {\n    let model;\n\n    beforeEach(function() {\n        const Resource = Backbone.Model.extend(_.defaults({\n            defaults() {\n                return {\n                    extraData: {},\n                };\n            },\n\n            initialize() {\n                this._setupExtraData();\n            },\n        }, RB.ExtraDataMixin));\n\n        model = new Resource();\n    });\n\n    it('change events fired', function() {\n        const callbacks = {\n            'change': function() {},\n            'change:extraData': function() {},\n        };\n\n        spyOn(callbacks, 'change');\n        spyOn(callbacks, 'change:extraData');\n\n        model.on('change', callbacks.change);\n        model.on('change:extraData', callbacks['change:extraData']);\n\n        model.setExtraData('foo', 1);\n\n        expect(callbacks.change).toHaveBeenCalled();\n        expect(callbacks['change:extraData']).toHaveBeenCalled();\n    });\n\n    it('attributes updated', function() {\n        const oldExtraData = model.attributes.extraData;\n\n        expect(model.extraData.attributes).toBe(oldExtraData);\n\n        model.set({\n            extraData: {\n                foo: 1,\n            },\n        });\n\n        expect(model.attributes.extraData).toEqual({foo: 1});\n        expect(model.extraData.attributes).toEqual({foo: 1});\n\n        expect(model.extraData.attributes).not.toBe(oldExtraData);\n        expect(model.attributes.extraData).not.toBe(oldExtraData);\n\n        expect(model.extraData.attributes).toBe(model.attributes.extraData);\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,qBAAqB,EAAE,YAAW;EACpC,IAAIC,KAAK;EAETC,UAAU,CAAC,YAAW;IAClB,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAACC,CAAC,CAACC,QAAQ,CAAC;MAC9CA,QAAQA,CAAA,EAAG;QACP,OAAO;UACHC,SAAS,EAAE,CAAC;QAChB,CAAC;MACL,CAAC;MAEDC,UAAUA,CAAA,EAAG;QACT,IAAI,CAACC,eAAe,CAAC,CAAC;MAC1B;IACJ,CAAC,EAAEC,EAAE,CAACC,cAAc,CAAC,CAAC;IAEtBZ,KAAK,GAAG,IAAIE,QAAQ,CAAC,CAAC;EAC1B,CAAC,CAAC;EAEFW,EAAE,CAAC,qBAAqB,EAAE,YAAW;IACjC,MAAMC,SAAS,GAAG;MACd,QAAQ,EAAE,SAAAC,CAAA,EAAW,CAAC,CAAC;MACvB,kBAAkB,EAAE,SAAAC,CAAA,EAAW,CAAC;IACpC,CAAC;IAEDC,KAAK,CAACH,SAAS,EAAE,QAAQ,CAAC;IAC1BG,KAAK,CAACH,SAAS,EAAE,kBAAkB,CAAC;IAEpCd,KAAK,CAACkB,EAAE,CAAC,QAAQ,EAAEJ,SAAS,CAACC,MAAM,CAAC;IACpCf,KAAK,CAACkB,EAAE,CAAC,kBAAkB,EAAEJ,SAAS,CAAC,kBAAkB,CAAC,CAAC;IAE3Dd,KAAK,CAACmB,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC;IAE5BC,MAAM,CAACN,SAAS,CAACC,MAAM,CAAC,CAACM,gBAAgB,CAAC,CAAC;IAC3CD,MAAM,CAACN,SAAS,CAAC,kBAAkB,CAAC,CAAC,CAACO,gBAAgB,CAAC,CAAC;EAC5D,CAAC,CAAC;EAEFR,EAAE,CAAC,oBAAoB,EAAE,YAAW;IAChC,MAAMS,YAAY,GAAGtB,KAAK,CAACuB,UAAU,CAACf,SAAS;IAE/CY,MAAM,CAACpB,KAAK,CAACQ,SAAS,CAACe,UAAU,CAAC,CAACC,IAAI,CAACF,YAAY,CAAC;IAErDtB,KAAK,CAACyB,GAAG,CAAC;MACNjB,SAAS,EAAE;QACPkB,GAAG,EAAE;MACT;IACJ,CAAC,CAAC;IAEFN,MAAM,CAACpB,KAAK,CAACuB,UAAU,CAACf,SAAS,CAAC,CAACmB,OAAO,CAAC;MAACD,GAAG,EAAE;IAAC,CAAC,CAAC;IACpDN,MAAM,CAACpB,KAAK,CAACQ,SAAS,CAACe,UAAU,CAAC,CAACI,OAAO,CAAC;MAACD,GAAG,EAAE;IAAC,CAAC,CAAC;IAEpDN,MAAM,CAACpB,KAAK,CAACQ,SAAS,CAACe,UAAU,CAAC,CAACK,GAAG,CAACJ,IAAI,CAACF,YAAY,CAAC;IACzDF,MAAM,CAACpB,KAAK,CAACuB,UAAU,CAACf,SAAS,CAAC,CAACoB,GAAG,CAACJ,IAAI,CAACF,YAAY,CAAC;IAEzDF,MAAM,CAACpB,KAAK,CAACQ,SAAS,CAACe,UAAU,CAAC,CAACC,IAAI,CAACxB,KAAK,CAACuB,UAAU,CAACf,SAAS,CAAC;EACvE,CAAC,CAAC;AACN,CAAC,CAAC"}