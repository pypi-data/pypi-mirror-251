"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[5926],{25926:function(e,t,n){n.d(t,{$5:function(){return _},C_:function(){return H},DK:function(){return D},Dg:function(){return W},Gg:function(){return $},Hn:function(){return y},K4:function(){return w},MC:function(){return V},NM:function(){return O},TC:function(){return Y},TF:function(){return C},YL:function(){return Z},a6:function(){return U},bR:function(){return z},c5:function(){return M},e7:function(){return R},eH:function(){return m},gZ:function(){return g},hX:function(){return A},jl:function(){return h},lo:function(){return N},nC:function(){return E},pQ:function(){return S},r1:function(){return v},rN:function(){return Q},rc:function(){return F},v:function(){return k},w1:function(){return X},ye:function(){return I}});var r=n(4942),u=n(1413),a=n(74165),c=n(15861),i=n(9229),o=n(3442),p=(0,i.nZ)({key:"apiProvidersFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apiproviders");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),s=(0,i.nZ)({key:"apiBackendsFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apibackends");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),f=(0,i.nZ)({key:"endpointsFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/endpoints");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),d=(0,i.nZ)({key:"dataSourcesFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/datasources");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),l=(0,i.nZ)({key:"dataSourceTypesFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/datasource_types");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),v=(0,i.cn)({key:"apiProviders",default:p}),k=(0,i.nZ)({key:"apiProviderDropdownList",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.get,e.next=3,n(v);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.name}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),h=(0,i.cn)({key:"apiProviderSelected",default:null}),Z=(0,i.cn)({key:"apiBackends",default:s}),y=(0,i.nZ)({key:"apiBackendDropdownList",get:function(e){var t=e.get,n=t(Z),r=t(z);return n.filter((function(e){return-1===((null===r||void 0===r?void 0:r.disabled_api_backends)||[]).indexOf(e.id)})).map((function(e){return{label:e.name,value:e.id,provider:e.api_provider.name}}))}}),g=(0,i.cn)({key:"apiBackendSelected",default:null}),b=(0,i.cn)({key:"endpoints",default:f}),m=((0,i.nZ)({key:"endpointDropdownList",get:function(e){var t=(0,e.get)(b);return t.filter((function(e){return 0===e.version&&!e.draft})).sort((function(e,t){return e.created_on<t.created_on?1:-1})).map((function(e){return{label:"".concat(e.api_backend.api_provider.name," \xbb ").concat(e.api_backend.name," \xbb ").concat(e.name),uuid:e.uuid,options:t.filter((function(t){return t.parent_uuid===e.uuid})).map((function(t){return{label:"".concat(t.version,": ").concat(t.description),value:"".concat(t.parent_uuid,":").concat(t.version),version:t.version,backend:e.api_backend.name,provider:e.api_backend.api_provider.name,is_live:t.is_live,uuid:t.uuid}}))}}))}}),(0,i.cn)({key:"endpointSelected",default:null})),w=((0,i.nZ)({key:"endpointTableData",get:function(e){for(var t=(0,e.get)(b).filter((function(e){return!e.draft})).sort((function(e,t){return e.created_on<t.created_on?1:-1})),n=t.filter((function(e){return 0===e.version})).reduce((function(e,t){var n=(0,r.Z)({},t.uuid,(0,u.Z)((0,u.Z)({},t),{},{versions:[],key:t.uuid}));return(0,u.Z)((0,u.Z)({},e),n)}),{}),a=t.filter((function(e){return 0!==e.version})),c=0;c<a.length;c++)a[c].parent_uuid in n&&n[a[c].parent_uuid].versions.push((0,u.Z)((0,u.Z)({},a[c]),{},{key:a[c].uuid}));return Object.values(n)}}),(0,i.cn)({key:"endpointVersions",default:[]}),(0,i.cn)({key:"endpointConfigValue",default:{}})),S=(0,i.cn)({key:"promptValues",default:{}}),_=(0,i.cn)({key:"inputValue",default:{}}),x=((0,i.cn)({key:"saveEndpointModalVisible",default:!1}),(0,i.cn)({key:"saveEndpointVersionModalVisible",default:!1}),(0,i.cn)({key:"shareEndpointModalVisible",default:!1}),(0,i.cn)({key:"endpointShareCodeValue",default:null}),(0,i.nZ)({key:"profileFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/profiles/me");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),F=(0,i.cn)({key:"profileValue",default:x}),E=(0,i.nZ)({key:"isLoggedIn",get:function(e){return null!==(0,e.get)(F)}}),T=(0,i.cn)({key:"promptHubState",default:[]}),O=((0,i.nZ)({key:"promptHubList",get:function(e){return(0,e.get)(T)}}),(0,i.cn)({key:"dataSourcesState",default:d})),M=(0,i.nZ)({key:"orgDataSourcesState",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.get,e.prev=1,n(W).IS_ORGANIZATION_MEMBER){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,(0,o.o)().get("/api/org/datasources");case 7:return r=e.sent,e.abrupt("return",r.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}),C=(0,i.cn)({key:"dataSourceTypesState",default:l}),V=(0,i.cn)({key:"dataSourceEntriesState",default:[]}),D=(0,i.cn)({key:"orgDataSourceEntriesState",default:[]}),I=(0,i.nZ)({key:"dataSourceEntriesTableData",get:function(e){var t=e.get,n=t(V),r=t(W);n=n.map((function(e){return(0,u.Z)({isUserOwned:!0},e)}));var a=r.IS_ORGANIZATION_MEMBER?t(D):[];a=a.map((function(e){return(0,u.Z)({isUserOwned:!1},e)}));var c=t(O),i=(c=c.map((function(e){return(0,u.Z)({isUserOwned:!0},e)}))).map((function(e){return e.uuid})),o=r.IS_ORGANIZATION_MEMBER?t(M):[];o=(o=o.map((function(e){return(0,u.Z)({isUserOwned:!1},e)}))).filter((function(e){return!i.includes(e.uuid)}));for(var p=[],s={},f={},d=0;d<n.length;d++)n[d].datasource.uuid in s?s[n[d].datasource.uuid].push(n[d]):s[n[d].datasource.uuid]=[n[d]];for(var l=0;l<a.length;l++)a[l].datasource.uuid in f?f[a[l].datasource.uuid].push(a[l]):f[a[l].datasource.uuid]=[a[l]];for(var v=0;v<c.length;v++)p.push((0,u.Z)((0,u.Z)({},c[v]),{data_source_entries:s[c[v].uuid]||[]}));for(var k=0;k<o.length;k++)p.push((0,u.Z)((0,u.Z)({},o[k]),{data_source_entries:f[o[k].uuid]||[]}));return p}}),N=(0,i.cn)({key:"isMobileState",default:window.innerWidth<768}),B=(0,i.nZ)({key:"appTemplatesFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apps/templates");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),R=(0,i.cn)({key:"appTemplatesState",default:B}),A=(0,i.xu)({key:"appTemplateState",default:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"_blank_"!==t){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,(0,o.o)().get("/api/apps/templates/".concat(t));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}),L=((0,i.cn)({key:"appDebugState",default:{}}),(0,i.nZ)({key:"appsFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apps");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),H=(0,i.cn)({key:"appsState",default:L}),P=(0,i.nZ)({key:"appsBriefFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/apps?fields=uuid,name,visibility,is_published,app_type_name,unique_processors,published_uuid");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),U=(0,i.cn)({key:"appsBriefState",default:P}),G=(0,i.nZ)({key:"profileFlagsFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/profiles/me/flags");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),W=(0,i.cn)({key:"profileFlagsState",default:G}),j=(0,i.nZ)({key:"organizationFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/org");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),z=(0,i.cn)({key:"organizationState",default:j}),K=(0,i.nZ)({key:"connectionTypesFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/connection_types");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),X=(0,i.cn)({key:"connectionTypesState",default:K}),q=(0,i.nZ)({key:"connectionsFetchSelector",get:function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.o)().get("/api/connections");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),Q=(0,i.cn)({key:"connectionsState",default:q}),Y=(0,i.cn)({key:"streamChunksState",default:{}}),$=(0,i.cn)({key:"appEditorValidationErrorsState",default:{}})},3442:function(e,t,n){n.d(t,{o:function(){return a}});var r=n(33109),u=n(83960),a=function(){var e=r.Z.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});return e.interceptors.response.use((function(e){return e}),(function(e){window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/hub")||window.location.pathname.startsWith("/app/")||401!==e.response.status&&403!==e.response.status||(window.location.href="/login?redirectUrl="+window.location.pathname);try{(0,u.yv)("Error Occurred",{variant:"error"})}catch(t){}return Promise.reject(e)})),e}}}]);