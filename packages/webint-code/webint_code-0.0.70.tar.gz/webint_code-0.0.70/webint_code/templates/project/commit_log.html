$def with (project, repo)
$var breadcrumbs = ("projects", "Projects", project, f"<b>{project}</b>")
$var title: Commit Log
$var title_classes = ["p-name"]
$var article_classes = ["h-feed"]

$for commit_id, commit in repo.log().items():
    $ title, _, description = commit["message"].partition("\n\n")
    $ ts = commit["timestamp"]
    <div class=h-entry>
      <span class=p-name>$:str(mkdn(title))[3:-4]</span>
      <small><small>
        <code onclick="navigator.clipboard.writeText('$commit_id')">$commit_id[:7].upper()</code>
        <a href=/projects/$project/commits/$commit_id><time class=dt-published
          datetime=$ts.isoformat()>$ts.diff_for_humans()</time></a>
      </small></small>
    </div>
