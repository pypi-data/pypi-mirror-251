{"version":3,"file":"main.LinoWebCam_LinoDialog.c7c2e1340926f2712204.js","mappings":"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","sources":["webpack://lino_react/./node_modules/primereact/iconbase/iconbase.esm.js","webpack://lino_react/./node_modules/primereact/ripple/ripple.esm.js","webpack://lino_react/Webcam/webpack/universalModuleDefinition","webpack://lino_react/Webcam/webpack/bootstrap","webpack://lino_react/Webcam/src/react-webcam.tsx","webpack://lino_react/Webcam/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://lino_react/./lino_react/react/components/LinoWebCam.tsx"],"sourcesContent":["'use client';\nimport { ObjectUtils, classNames } from 'primereact/utils';\n\nvar IconBase = {\n  defaultProps: {\n    __TYPE: 'IconBase',\n    className: null,\n    label: null,\n    spin: false\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, IconBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, IconBase.defaultProps);\n  },\n  getPTI: function getPTI(props) {\n    var isLabelEmpty = ObjectUtils.isEmpty(props.label);\n    var otherProps = IconBase.getOtherProps(props);\n    var ptiProps = {\n      className: classNames('p-icon', {\n        'p-icon-spin': props.spin\n      }, props.className),\n      role: !isLabelEmpty ? 'img' : undefined,\n      'aria-label': !isLabelEmpty ? props.label : undefined,\n      'aria-hidden': isLabelEmpty\n    };\n    return ObjectUtils.getMergedProps(otherProps, ptiProps);\n  }\n};\n\nexport { IconBase };\n","'use client';\nimport * as React from 'react';\nimport PrimeReact, { PrimeReactContext } from 'primereact/api';\nimport { useStyle, useMountEffect, useUpdateEffect, useUnmountEffect } from 'primereact/hooks';\nimport { ObjectUtils, mergeProps, classNames, DomHandler } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar styles = \"\\n@layer primereact {\\n    .p-ripple {\\n        overflow: hidden;\\n        position: relative;\\n    }\\n    \\n    .p-ink {\\n        display: block;\\n        position: absolute;\\n        background: rgba(255, 255, 255, 0.5);\\n        border-radius: 100%;\\n        transform: scale(0);\\n    }\\n    \\n    .p-ink-active {\\n        animation: ripple 0.4s linear;\\n    }\\n    \\n    .p-ripple-disabled .p-ink {\\n        display: none;\\n    }\\n}\\n\\n@keyframes ripple {\\n    100% {\\n        opacity: 0;\\n        transform: scale(2.5);\\n    }\\n}\\n\\n\";\nvar classes = {\n  root: 'p-ink'\n};\nvar RippleBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'Ripple',\n    children: undefined\n  },\n  css: {\n    styles: styles,\n    classes: classes\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, RippleBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, RippleBase.defaultProps);\n  }\n});\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar Ripple = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var inkRef = React.useRef(null);\n  var targetRef = React.useRef(null);\n  var context = React.useContext(PrimeReactContext);\n  var props = RippleBase.getProps(inProps, context);\n  var metaData = {\n    props: props\n  };\n  useStyle(RippleBase.css.styles, {\n    name: 'ripple'\n  });\n  var _RippleBase$setMetaDa = RippleBase.setMetaData(_objectSpread({}, metaData)),\n    ptm = _RippleBase$setMetaDa.ptm,\n    cx = _RippleBase$setMetaDa.cx;\n  var getTarget = function getTarget() {\n    return inkRef.current && inkRef.current.parentElement;\n  };\n  var bindEvents = function bindEvents() {\n    if (targetRef.current) {\n      targetRef.current.addEventListener('pointerdown', onPointerDown);\n    }\n  };\n  var unbindEvents = function unbindEvents() {\n    if (targetRef.current) {\n      targetRef.current.removeEventListener('pointerdown', onPointerDown);\n    }\n  };\n  var onPointerDown = function onPointerDown(event) {\n    var offset = DomHandler.getOffset(targetRef.current);\n    var offsetX = event.pageX - offset.left + document.body.scrollTop - DomHandler.getWidth(inkRef.current) / 2;\n    var offsetY = event.pageY - offset.top + document.body.scrollLeft - DomHandler.getHeight(inkRef.current) / 2;\n    activateRipple(offsetX, offsetY);\n  };\n  var activateRipple = function activateRipple(offsetX, offsetY) {\n    if (!inkRef.current || getComputedStyle(inkRef.current, null).display === 'none') {\n      return;\n    }\n    DomHandler.removeClass(inkRef.current, 'p-ink-active');\n    setDimensions();\n    inkRef.current.style.top = offsetY + 'px';\n    inkRef.current.style.left = offsetX + 'px';\n    DomHandler.addClass(inkRef.current, 'p-ink-active');\n  };\n  var onAnimationEnd = function onAnimationEnd(event) {\n    DomHandler.removeClass(event.currentTarget, 'p-ink-active');\n  };\n  var setDimensions = function setDimensions() {\n    if (inkRef.current && !DomHandler.getHeight(inkRef.current) && !DomHandler.getWidth(inkRef.current)) {\n      var d = Math.max(DomHandler.getOuterWidth(targetRef.current), DomHandler.getOuterHeight(targetRef.current));\n      inkRef.current.style.height = d + 'px';\n      inkRef.current.style.width = d + 'px';\n    }\n  };\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getInk: function getInk() {\n        return inkRef.current;\n      },\n      getTarget: function getTarget() {\n        return targetRef.current;\n      }\n    };\n  });\n  useMountEffect(function () {\n    if (inkRef.current) {\n      targetRef.current = getTarget();\n      setDimensions();\n      bindEvents();\n    }\n  });\n  useUpdateEffect(function () {\n    if (inkRef.current && !targetRef.current) {\n      targetRef.current = getTarget();\n      setDimensions();\n      bindEvents();\n    }\n  });\n  useUnmountEffect(function () {\n    if (inkRef.current) {\n      targetRef.current = null;\n      unbindEvents();\n    }\n  });\n  var rootProps = mergeProps({\n    'aria-hidden': true,\n    className: classNames(cx('root'))\n  }, RippleBase.getOtherProps(props), ptm('root'));\n  return context && context.ripple || PrimeReact.ripple ? /*#__PURE__*/React.createElement(\"span\", _extends({\n    role: \"presentation\",\n    ref: inkRef\n  }, rootProps, {\n    onAnimationEnd: onAnimationEnd\n  })) : null;\n}));\nRipple.displayName = 'Ripple';\n\nexport { Ripple };\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Webcam\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"Webcam\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_react__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/react-webcam.tsx\");\n","import * as React from \"react\";\n\n// polyfill based on https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n(function polyfillGetUserMedia() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // Older browsers might not implement mediaDevices at all, so we set an empty object first\n  if (navigator.mediaDevices === undefined) {\n    (navigator as any).mediaDevices = {};\n  }\n\n  // Some browsers partially implement mediaDevices. We can't just assign an object\n  // with getUserMedia as it would overwrite existing properties.\n  // Here, we will just add the getUserMedia property if it's missing.\n  if (navigator.mediaDevices.getUserMedia === undefined) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      // First get ahold of the legacy getUserMedia, if present\n      const getUserMedia =\n        navigator.getUserMedia ||\n        navigator.webkitGetUserMedia ||\n        navigator.mozGetUserMedia ||\n        navigator.msGetUserMedia;\n\n      // Some browsers just don't implement it - return a rejected promise with an error\n      // to keep a consistent interface\n      if (!getUserMedia) {\n        return Promise.reject(\n          new Error(\"getUserMedia is not implemented in this browser\")\n        );\n      }\n\n      // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n      return new Promise(function(resolve, reject) {\n        getUserMedia.call(navigator, constraints, resolve, reject);\n      });\n    };\n  }\n})();\n\nfunction hasGetUserMedia() {\n  return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);\n}\n\ninterface ScreenshotDimensions {\n  width: number;\n  height: number;\n}\n\ninterface ChildrenProps {\n  getScreenshot: (screenshotDimensions?: ScreenshotDimensions) => string | null;\n}\n\nexport type WebcamProps = Omit<React.HTMLProps<HTMLVideoElement>, \"ref\"> & {\n  audio: boolean;\n  audioConstraints?: MediaStreamConstraints[\"audio\"];\n  disablePictureInPicture: boolean;\n  forceScreenshotSourceSize: boolean;\n  imageSmoothing: boolean;\n  mirrored: boolean;\n  minScreenshotHeight?: number;\n  minScreenshotWidth?: number;\n  onUserMedia: (stream: MediaStream) => void;\n  onUserMediaError: (error: string | DOMException) => void;\n  screenshotFormat: \"image/webp\" | \"image/png\" | \"image/jpeg\";\n  screenshotQuality: number;\n  videoConstraints?: MediaStreamConstraints[\"video\"];\n  children?: (childrenProps: ChildrenProps) => JSX.Element;\n}\n\ninterface WebcamState {\n  hasUserMedia: boolean;\n  src?: string;\n}\n\nexport default class Webcam extends React.Component<WebcamProps, WebcamState> {\n  static defaultProps = {\n    audio: false,\n    disablePictureInPicture: false,\n    forceScreenshotSourceSize: false,\n    imageSmoothing: true,\n    mirrored: false,\n    onUserMedia: () => undefined,\n    onUserMediaError: () => undefined,\n    screenshotFormat: \"image/webp\",\n    screenshotQuality: 0.92,\n  };\n\n  private canvas: HTMLCanvasElement | null = null;\n\n  private ctx: CanvasRenderingContext2D | null = null;\n\n  private requestUserMediaId = 0;\n\n  private unmounted = false;\n\n  stream: MediaStream | null;\n\n  video: HTMLVideoElement | null;\n\n  constructor(props: WebcamProps) {\n    super(props);\n    this.state = {\n      hasUserMedia: false\n    };\n  }\n\n  componentDidMount() {\n    const { state, props } = this;\n    this.unmounted = false;\n\n    if (!hasGetUserMedia()) {\n      props.onUserMediaError(\"getUserMedia not supported\");\n\n      return;\n    }\n\n    if (!state.hasUserMedia) {\n      this.requestUserMedia();\n    }\n\n    if (props.children && typeof props.children != 'function') {\n      console.warn(\"children must be a function\");\n    }\n  }\n\n  componentDidUpdate(nextProps: WebcamProps) {\n    const { props } = this;\n\n    if (!hasGetUserMedia()) {\n      props.onUserMediaError(\"getUserMedia not supported\");\n\n      return;\n    }\n\n    const audioConstraintsChanged =\n      JSON.stringify(nextProps.audioConstraints) !==\n      JSON.stringify(props.audioConstraints);\n    const videoConstraintsChanged =\n      JSON.stringify(nextProps.videoConstraints) !==\n      JSON.stringify(props.videoConstraints);\n    const minScreenshotWidthChanged =\n      nextProps.minScreenshotWidth !== props.minScreenshotWidth;\n    const minScreenshotHeightChanged =\n      nextProps.minScreenshotHeight !== props.minScreenshotHeight;\n    if (\n      videoConstraintsChanged ||\n      minScreenshotWidthChanged ||\n      minScreenshotHeightChanged\n    ) {\n      this.canvas = null;\n      this.ctx = null;\n    }\n    if (audioConstraintsChanged || videoConstraintsChanged) {\n      this.stopAndCleanup();\n      this.requestUserMedia();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n    this.stopAndCleanup();\n  }\n\n  private static stopMediaStream(stream: MediaStream | null) {\n    if (stream) {\n      if (stream.getVideoTracks && stream.getAudioTracks) {\n        stream.getVideoTracks().map(track => {\n          stream.removeTrack(track);\n          track.stop();\n        });\n        stream.getAudioTracks().map(track => {\n          stream.removeTrack(track);\n          track.stop()\n        });\n      } else {\n        ((stream as unknown) as MediaStreamTrack).stop();\n      }\n    }\n  }\n\n  private stopAndCleanup() {\n    const { state } = this;\n\n    if (state.hasUserMedia) {\n      Webcam.stopMediaStream(this.stream);\n\n      if (state.src) {\n        window.URL.revokeObjectURL(state.src);\n      }\n    }\n  }\n\n  getScreenshot(screenshotDimensions?: ScreenshotDimensions) {\n    const { state, props } = this;\n\n    if (!state.hasUserMedia) return null;\n\n    const canvas = this.getCanvas(screenshotDimensions);\n    return (\n      canvas &&\n      canvas.toDataURL(props.screenshotFormat, props.screenshotQuality)\n    );\n  }\n\n  getCanvas(screenshotDimensions?: ScreenshotDimensions) {\n    const { state, props } = this;\n\n    if (!this.video) {\n      return null;\n    }\n\n    if (!state.hasUserMedia || !this.video.videoHeight) return null;\n\n    if (!this.ctx) {\n      let canvasWidth = this.video.videoWidth;\n      let canvasHeight = this.video.videoHeight;\n      if (!this.props.forceScreenshotSourceSize) {\n        const aspectRatio = canvasWidth / canvasHeight;\n\n        canvasWidth = props.minScreenshotWidth || this.video.clientWidth;\n        canvasHeight = canvasWidth / aspectRatio;\n\n        if (\n          props.minScreenshotHeight &&\n          canvasHeight < props.minScreenshotHeight\n        ) {\n          canvasHeight = props.minScreenshotHeight;\n          canvasWidth = canvasHeight * aspectRatio;\n        }\n      }\n\n      this.canvas = document.createElement(\"canvas\");\n      this.canvas.width = screenshotDimensions?.width ||  canvasWidth;\n      this.canvas.height = screenshotDimensions?.height || canvasHeight;\n      this.ctx = this.canvas.getContext(\"2d\");\n    }\n\n    const { ctx, canvas } = this;\n\n    if (ctx && canvas) {\n\n      // adjust the height and width of the canvas to the given dimensions\n      canvas.width = screenshotDimensions?.width ||  canvas.width;\n      canvas.height = screenshotDimensions?.height || canvas.height;\n\n      // mirror the screenshot\n      if (props.mirrored) {\n        ctx.translate(canvas.width, 0);\n        ctx.scale(-1, 1);\n      }\n\n      ctx.imageSmoothingEnabled = props.imageSmoothing;\n      ctx.drawImage(this.video, 0, 0, screenshotDimensions?.width || canvas.width, screenshotDimensions?.height || canvas.height);\n\n      // invert mirroring\n      if (props.mirrored) {\n        ctx.scale(-1, 1);\n        ctx.translate(-canvas.width, 0);\n      }\n    }\n\n    return canvas;\n  }\n\n  private requestUserMedia() {\n    const { props } = this;\n\n    const sourceSelected = (\n      audioConstraints: boolean | MediaTrackConstraints | undefined,\n      videoConstraints: boolean | MediaTrackConstraints | undefined,\n    ) => {\n      const constraints: MediaStreamConstraints = {\n        video: typeof videoConstraints !== \"undefined\" ? videoConstraints : true\n      };\n\n      if (props.audio) {\n        constraints.audio =\n          typeof audioConstraints !== \"undefined\" ? audioConstraints : true;\n      }\n\n      this.requestUserMediaId++\n      const myRequestUserMediaId = this.requestUserMediaId\n\n      navigator.mediaDevices\n        .getUserMedia(constraints)\n        .then(stream => {\n          if (this.unmounted || myRequestUserMediaId !== this.requestUserMediaId) {\n            Webcam.stopMediaStream(stream);\n          } else {\n            this.handleUserMedia(null, stream);\n          }\n        })\n        .catch(e => {\n          this.handleUserMedia(e);\n        });\n    };\n\n    if (\"mediaDevices\" in navigator) {\n      sourceSelected(props.audioConstraints, props.videoConstraints);\n    } else {\n      const optionalSource = (id: string | null) => ({ optional: [{ sourceId: id }] }) as MediaTrackConstraints;\n\n      const constraintToSourceId = (constraint) => {\n        const { deviceId } = constraint;\n\n        if (typeof deviceId === \"string\") {\n          return deviceId;\n        }\n\n        if (Array.isArray(deviceId) && deviceId.length > 0) {\n          return deviceId[0];\n        }\n\n        if (typeof deviceId === \"object\" && deviceId.ideal) {\n          return deviceId.ideal;\n        }\n\n        return null;\n      };\n\n      // @ts-ignore: deprecated api\n      MediaStreamTrack.getSources(sources => {\n        let audioSource: string | null = null;\n        let videoSource: string | null = null;\n\n        sources.forEach((source: MediaStreamTrack) => {\n          if (source.kind === \"audio\") {\n            audioSource = source.id;\n          } else if (source.kind === \"video\") {\n            videoSource = source.id;\n          }\n        });\n\n        const audioSourceId = constraintToSourceId(props.audioConstraints);\n        if (audioSourceId) {\n          audioSource = audioSourceId;\n        }\n\n        const videoSourceId = constraintToSourceId(props.videoConstraints);\n        if (videoSourceId) {\n          videoSource = videoSourceId;\n        }\n\n        sourceSelected(\n          optionalSource(audioSource),\n          optionalSource(videoSource)\n        );\n      });\n    }\n  }\n\n  private handleUserMedia(err, stream?: MediaStream) {\n    const { props } = this;\n\n    if (err || !stream) {\n      this.setState({ hasUserMedia: false });\n      props.onUserMediaError(err);\n\n      return;\n    }\n\n    this.stream = stream;\n\n    try {\n      if (this.video) {\n        this.video.srcObject = stream;\n      }\n      this.setState({ hasUserMedia: true });\n    } catch (error) {\n      this.setState({\n        hasUserMedia: true,\n        src: window.URL.createObjectURL(stream)\n      });\n    }\n\n    props.onUserMedia(stream);\n  }\n\n  render() {\n    const { state, props } = this;\n\n    const {\n      audio,\n      forceScreenshotSourceSize,\n      disablePictureInPicture,\n      onUserMedia,\n      onUserMediaError,\n      screenshotFormat,\n      screenshotQuality,\n      minScreenshotWidth,\n      minScreenshotHeight,\n      audioConstraints,\n      videoConstraints,\n      imageSmoothing,\n      mirrored,\n      style = {},\n      children,\n      ...rest\n    } = props;\n\n    const videoStyle = mirrored ? { ...style, transform: `${style.transform || \"\"} scaleX(-1)` } : style;\n\n    const childrenProps: ChildrenProps = {\n      getScreenshot: this.getScreenshot.bind(this),\n    };\n\n    return (\n      <>\n        <video\n          autoPlay\n          disablePictureInPicture={disablePictureInPicture}\n          src={state.src}\n          muted={!audio}\n          playsInline\n          ref={ref => {\n            this.video = ref;\n          }}\n          style={videoStyle}\n          {...rest}\n        />\n        {children && children(childrenProps)}\n      </>\n    );\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","// LinoWebCam.tsx\n/** @module LinoWebCam */\n\nexport const name: string = \"LinoWebCam\";\n\n// @ts-ignore\nimport * as React from 'react';\n// @ts-ignore\nimport PropTypes from 'prop-types';\nimport * as t from './types';\nimport { RegisterImportPool, getExReady } from \"./Base\";\n\n// @ts-ignore\nimport Webcam from \"react-webcam\";\n\nlet ex; const exModulePromises = ex = {\n    // @ts-ignore\n    prButton: import(/* webpackChunkName: \"prButton_LinoWebCam\" */\"primereact/button\"),\n}\nRegisterImportPool(ex);\n\ntype LinoWebCamProps = {\n    captureDone: (data: string) => void,\n    height: number;\n    width: number;\n}\n\nexport const LinoWebCam: React.FC = (props: LinoWebCamProps) => {\n    const webcamRef = React.useRef(null);\n\n    const capture: React.MouseEventHandler<HTMLElement> = React.useCallback(\n        (event) => {\n            props.captureDone(webcamRef.current.getScreenshot());\n        },\n    [webcamRef]);\n\n    const [err_msg, setErrorMessage] = React.useState(null);\n    const [deviceId, setDeviceId] = React.useState(null);\n    const [devices, setDevices] = React.useState([]);\n\n    const switchCamera: React.MouseEventHandler<HTMLElement> = React.useCallback(\n        event => {\n            let i = (devices.indexOf(deviceId) + 1) % devices.length;\n            setDeviceId(devices[i]);\n        },\n    [devices, deviceId]);\n\n    const videoConstraints: MediaTrackConstraints = {\n        height: props.height, width: props.width}\n\n    if (deviceId) videoConstraints.deviceId = deviceId\n    else videoConstraints.facingMode = \"environment\";\n\n    const localEx = getExReady(ex, [\"prButton\"], (mods) => {\n        navigator.mediaDevices.enumerateDevices().then(devs => {\n            setDevices(devs.filter(({kind}) => kind === \"videoinput\").map(d => d.deviceId))});\n        return mods;\n    });\n    const buttonStyle = {background: \"white\", color: \"black\",\n        borderRadius: \"50%\", width: \"5ch\", height: \"5ch\", margin: \"5px\"};\n\n    // return !localEx.ready ? null : <>\n    return !devices.length ? null : <>\n        <div style={{position: 'absolute'}}>{err_msg}</div>\n        <Webcam\n            audio={false}\n            forceScreenshotSourceSize={true}\n            height={props.height}\n            mirrored={true}\n            onUserMedia={uM => {\n                if (deviceId === null)\n                    setDeviceId(uM.getVideoTracks()[0].getSettings().deviceId)}}\n            onUserMediaError={exempt => {\n                if (err_msg === null) setErrorMessage(\n                    \"Please allow camera access to take a photo.\")}}\n            ref={webcamRef}\n            screenshotFormat=\"image/jpeg\"\n            videoConstraints={videoConstraints}\n            width={props.width}\n            />\n        <div\n            style={{position: \"absolute\", bottom: \"40px\", left: \"50%\",\n                transform: \"translate(-50%, 0)\"}}>\n            <localEx.prButton.Button\n                icon=\"pi pi-camera\"\n                onClick={capture}\n                style={buttonStyle}\n            />\n            {devices.length > 1 &&\n                <localEx.prButton.Button\n                    icon=\"pi pi-undo\"\n                    onClick={switchCamera}\n                    style={buttonStyle}\n                />\n            }\n        </div>\n    </>\n}\n\n\nLinoWebCam.propTypes = {\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired\n}\n"],"names":["IconBase","defaultProps","__TYPE","className","label","spin","getProps","props","ObjectUtils","getMergedProps","getOtherProps","getDiffProps","getPTI","isLabelEmpty","isEmpty","otherProps","ptiProps","classNames","role","undefined","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_typeof","o","Symbol","iterator","constructor","_toPropertyKey","arg","input","hint","prim","toPrimitive","res","TypeError","String","Number","_toPrimitive","RippleBase","ComponentBase","extend","children","css","styles","classes","root","ownKeys","e","r","t","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","Ripple","React","inProps","ref","inkRef","targetRef","context","PrimeReactContext","metaData","useStyle","name","_RippleBase$setMetaDa","setMetaData","forEach","obj","value","defineProperty","configurable","writable","getOwnPropertyDescriptors","defineProperties","_objectSpread","ptm","cx","getTarget","current","parentElement","bindEvents","addEventListener","onPointerDown","event","offset","DomHandler","getOffset","offsetX","pageX","left","document","body","scrollTop","getWidth","offsetY","pageY","top","scrollLeft","getHeight","activateRipple","getComputedStyle","display","removeClass","setDimensions","style","addClass","d","Math","max","getOuterWidth","getOuterHeight","height","width","getInk","useMountEffect","useUpdateEffect","useUnmountEffect","removeEventListener","rootProps","mergeProps","ripple","PrimeReact","onAnimationEnd","currentTarget","displayName","factory","__WEBPACK_EXTERNAL_MODULE_react__","installedModules","__webpack_require__","moduleId","exports","module","l","modules","m","c","getter","get","toStringTag","mode","__esModule","ns","create","n","object","property","p","s","hasGetUserMedia","navigator","mediaDevices","getUserMedia","window","constraints","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","Promise","resolve","reject","Error","Webcam","_super","_this","canvas","ctx","requestUserMediaId","unmounted","state","hasUserMedia","__extends","componentDidMount","requestUserMedia","console","warn","onUserMediaError","componentDidUpdate","nextProps","audioConstraintsChanged","JSON","stringify","audioConstraints","videoConstraintsChanged","videoConstraints","minScreenshotWidthChanged","minScreenshotWidth","minScreenshotHeightChanged","minScreenshotHeight","stopAndCleanup","componentWillUnmount","stopMediaStream","stream","getVideoTracks","getAudioTracks","map","track","removeTrack","stop","src","URL","revokeObjectURL","getScreenshot","screenshotDimensions","getCanvas","toDataURL","screenshotFormat","screenshotQuality","video","videoHeight","canvasWidth","videoWidth","canvasHeight","forceScreenshotSourceSize","aspectRatio","clientWidth","createElement","getContext","mirrored","translate","scale","imageSmoothingEnabled","imageSmoothing","drawImage","sourceSelected","audio","myRequestUserMediaId","then","handleUserMedia","catch","optionalSource_1","id","optional","sourceId","constraintToSourceId_1","constraint","deviceId","Array","isArray","ideal","MediaStreamTrack","getSources","sources","audioSource","videoSource","kind","audioSourceId","videoSourceId","err","setState","srcObject","error","createObjectURL","onUserMedia","render","disablePictureInPicture","_b","rest","__rest","videoStyle","__assign","transform","childrenProps","react__WEBPACK_IMPORTED_MODULE_0__","autoPlay","muted","playsInline","__webpack_exports__","require","ex","prButton","RegisterImportPool","LinoWebCam","webcamRef","useRef","capture","useCallback","captureDone","err_msg","setErrorMessage","useState","setDeviceId","devices","setDevices","switchCamera","indexOf","facingMode","localEx","getExReady","mods","enumerateDevices","devs","buttonStyle","background","color","borderRadius","margin","position","uM","getSettings","exempt","bottom","Button","icon","onClick","number","isRequired"],"sourceRoot":""}